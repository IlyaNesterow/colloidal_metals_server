(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{45:function(n,e,t){"use strict";t.r(e);var r,o,i,c,a,s,d,u,l,b,m,h,f,j,p,O,g=t(0),x=t.n(g),v=t(18),w=t.n(v),y=t(2),k=t(8),T=t(3),S=function(n){return n.app},C=function(n){return n.auth},E="LOGOUT",z="LOGIN",M="TOGGLE_THEME",N="SET_DEFAULT_THEME",I="SET_ERROR",U="SET_LOADING",L="OPEN_CLOSE_MENU",P=function(n){return{type:z,payload:n}},_=function(){return{type:E}},A=function(n){return{type:I,error:n}},D=function(n){return{type:U,loading:n}},R=function(n){return{type:L,opened:n}},H=t(4),Y=t(5),F=Object(Y.a)(r||(r=Object(H.a)(["\n  ::-webkit-scrollbar { \n    display: none; \n  }\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    font-family: 'Montserrat', sans-serif;\n    font-weight: 200;\n    \n  }\n  .no-select{\n    user-select: none; \n    -moz-user-select: none;\n    -webkit-user-drag: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n  }\n  body {\n    transition: background-color .2s;\n    overflow-x: hidden;\n    background-color: ",";\n    position: relative;\n    min-height: 100vh;\n  }\n  a{\n    text-decoration: none;\n  }\n  h2{\n    color: #",";\n  }\n  form p{\n    margin-top: 1.5rem;\n    margin-bottom: .5rem;\n    margin-left: .9rem;\n    color: #",";\n    font-weight: 500;\n    letter-spacing: .03rem;\n  }\n  form input{\n    height: 2.8rem;\n    border: none;\n    background-color: #",";\n    padding: .5rem 1.3rem;\n    border-radius: 1.8rem;\n    font-size: 1.1rem;\n    transition: box-shadow .3s;\n    color: #",";\n  }\n  input:focus{\n    outline: none;\n    box-shadow: 0 0 .1rem #888;\n  }\n  @media only screen and (max-width: 1000px){\n    form, #content{\n      min-width: 60%;\n    }\n  }\n  @media only screen and (max-width: 500px){\n    form, #content{\n      min-width: 80%;\n    }\n    form input{\n      height: 2.3rem;\n      padding: .5rem 1.3rem;\n      font-size: 1rem;\n    }\n    form p{\n      margin-top: 1.1rem;\n      margin-bottom: .3rem;\n      margin-left: .7rem;\n    }\n  }\n"])),(function(n){return n.darkTheme?"#111":"#fefefe"}),(function(n){return n.darkTheme?"eee":"111"}),(function(n){return n.darkTheme?"bbb":"555"}),(function(n){return n.darkTheme?"252525":"f5f5f5"}),(function(n){return n.darkTheme?"ddd":"333"})),G=t(13),J=t(7),B=t(32),Z=t(1),W=function(n){var e=n.component,t=n.redirectTo,r=n.privateRoute,o=Object(B.a)(n,["component","redirectTo","privateRoute"]),i=Object(y.c)(C).loggedIn;return void 0===r&&(r=!1),Object(Z.jsx)(k.b,Object(J.a)({render:function(n){return i===r?Object(Z.jsx)(e,Object(J.a)({},n)):Object(Z.jsx)(k.a,{to:t||"/"})}},o))},q=function(){var n=Object(y.c)(S).menuOpened,e=Object(y.b)();return Object(Z.jsxs)("div",{id:"Menu",className:n?"closed":"opened",onClick:function(){return e(R(!n))},children:[Object(Z.jsx)("div",{id:"top"}),Object(Z.jsx)("div",{id:"middle"}),Object(Z.jsx)("div",{id:"bottom"})]})},K=function(){var n=Object(y.c)(C).loggedIn,e=Object(y.b)(),t=Object(k.g)();return n?Object(Z.jsx)("div",{className:"menu-link",onClick:function(){e(_()),t.push("/login")},id:"auth-ctx",children:"LOG OUT"}):null},Q=Y.b.nav(o||(o=Object(H.a)(["\n  width: 100vw;\n  transition: background-color .2s;\n  background-color: ",";\n  display: flex;\n  justify-content: space-between;\n  position: relative;\n\n  #Menu{\n    width: 1.3rem;\n    margin-top: 1.25rem;\n    margin-right: .75rem;\n    padding: 1rem;\n    position: fixed;\n    right: 0; \n    top: 0;\n    z-index: 5; \n  } \n  #auth-ctx{\n    right: 4rem;\n    padding: 1rem;\n    position: fixed;\n    right: 3.05; top: 0;\n    color: ",";\n    font-weight: 600; \n    font-size: .85rem; \n    font-family: 'Open Sans', Arial, Helvetica, sans-serif;\n    letter-spacing: .03rem;\n    z-index: 2; \n  }\n  #Menu div{\n    width: 1.1rem;\n    height: 2px;\n    background-color: ","; \n  }\n  #top, #middle, #bottom{\n    position: absolute;\n    transition: all .3s; \n  }\n  #top{\n    left: 0; top: 0;\n  }\n  #middle{\n    left: 0; top: .3rem;\n  }\n  #bottom{\n    left: 0; top: .6rem;\n  }\n  .opened > #middle{\n    opacity: 1; \n    width: 1.1rem;\n    margin-left: 0;\n  } \n  .closed > #middle{\n    opacity: 0;\n    width: 0;\n    margin-left: 50%; \n  }\n  .closed > #bottom,\n  .closed > #top{\n    top: .3rem;\n    background-color: #888;  \n  }\n  .closed > #top{\n    transform: rotate(45deg);\n  }\n  .closed > #bottom{\n    transform: rotate(-45deg);\n  }\n  @media only screen and (max-width: 1000px){\n    #auth-ctx{\n      display: none;\n    }\n  }\n"])),(function(n){return n.darkTheme?"#111":"#fff"}),(function(n){return n.darkTheme?"#eee":"#111"}),(function(n){return n.darkTheme?"#fff":"#333"})),V=function(){var n=Object(y.c)(S),e=n.menuOpened,t=n.theme;return Object(Z.jsxs)(Q,{darkTheme:t,opened:e,children:[Object(Z.jsx)(K,{}),Object(Z.jsx)(q,{})]})},X=Y.b.div(i||(i=Object(H.a)(["\n  #tab{\n    height: 100vh;\n    width: 312px;\n    max-width: 85%;\n    position: fixed;\n    transition: right .5s;\n    top: 0;\n    right: ",";\n    background-color: ",";\n    z-index: 3;\n  }\n  \n  #shadow{\n    height: 100vh;\n    width: 100vw;\n    position: fixed;\n    top: 0;\n    backdrop-filter: blur(",");\n    left: ",";\n    z-index: 2;\n  }\n"])),(function(n){return n.opened?"0":"-320px"}),(function(n){return n.darkTheme?"#111":"#fff"}),(function(n){return n.opened?"25px":"10px"}),(function(n){return n.opened?"0":"-100vw"})),$=Y.b.div(c||(c=Object(H.a)(["\n  position: relative;\n  margin-top: 2rem;\n  height: calc(100vh - 3.5rem);\n  width: 100%;\n  padding: 1rem;\n  overflow: hidden;\n\n  #inner-container{\n    position: absolute;\n    margin: 0 .5rem;\n    height: calc(100% - 1rem); width: calc(100% - 1rem);\n    left: 0; top: ",";\n    transition: top .5s ease-out;\n    overflow-y: auto;\n  }\n  .menu-link{\n    display: block;\n    padding: 1.19rem .8rem;\n    margin: 0 .9rem;\n    color: ",";\n    font-weight: 500;\n    font-size: .85rem;\n    letter-spacing: .03rem;\n    font-family: 'Open Sans', Arial, Helvetica, sans-serif;\n    border-bottom: solid 1px ",";\n  }\n  #auth-ctx{\n    display: none;\n  }\n  @media only screen and (max-width: 1000px){\n    #auth-ctx{\n      display: block;\n    }\n  }\n"])),(function(n){return n.rollDown?"0":"-100rem"}),(function(n){return n.darkTheme?"#eee":"#111"}),(function(n){return n.darkTheme?"rgba(222,222,222,0.25)":"rgba(0,0,0,0.25)"})),nn=["content","pictures","credentials"],en=function(){var n=Object(y.c)(S).theme,e=Object(y.b)(),t=function(){var e="";return e+=n?"bright":"dark",(e+=" ").toUpperCase()},r=function(){var n;e({type:M}),n="theme",window.localStorage.setItem(n,"true"===window.localStorage.getItem(n)?"false":"true")};return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)("span",{className:"menu-link no-select",onClick:r,children:t()}),Object(Z.jsx)(K,{})]})},tn=function(){var n=Object(y.c)(S),e=n.menuOpened,t=n.theme,r=Object(y.b)(),o=Object(g.useState)(!1),i=Object(T.a)(o,2),c=i[0],a=i[1];Object(g.useEffect)((function(){e?setTimeout((function(){return a(!0)}),150):a(!1)}),[e]);var s;return Object(Z.jsx)($,{rollDown:c,darkTheme:t,children:Object(Z.jsxs)("div",{id:"inner-container",children:[(s=nn,Object(Z.jsx)(Z.Fragment,{children:s.map((function(n){return Object(Z.jsx)(G.b,{to:n.startsWith("/")?n:"/".concat(n.trim()),className:"menu-link",onClick:function(){return r(R(!1))},activeStyle:{color:"#888"},children:n.toUpperCase()},n)}))})),Object(Z.jsx)(en,{})]})})},rn=function(){var n=Object(y.c)(S),e=n.menuOpened,t=n.theme;return Object(g.useEffect)((function(){document.body.style.overflow=e?"hidden":"unset"}),[e]),Object(Z.jsxs)(X,{opened:e,darkTheme:t,children:[Object(Z.jsx)("div",{id:"tab",children:Object(Z.jsx)(tn,{})}),Object(Z.jsx)("div",{id:"shadow"})]})},on=Y.b.div(a||(a=Object(H.a)(["\n  position: absolute;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 6;\n  backdrop-filter:  ",";;\n\n  #inner-container{\n    width: 40%;\n    height: 50%;\n    background-color: rgba(255, 50, 50, .2);\n    transition: opacity .5s;\n    opacity: ",";\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-radius: 1rem;\n  }\n  #close-error-log{\n    position: absolute;\n    top: .7rem; right: 0;\n    padding: 1rem;\n  }\n  #close-error-log-cross{\n    width: 25px; height: 1px;\n    background-color: #",';\n    transform: rotateZ(45deg);\n  }\n  #close-error-log-cross::after{\n    content: "";\n    position: absolute;\n    width: 25px; height: 1px;\n    background-color: #',";\n    transform: rotateZ(-90deg);\n  }\n  h5{\n    font-family: 'Noto Sans TC', Arial, Helvetica, sans-serif;\n    font-size: 1rem;\n    color: #888;\n  }\n  @media only screen and (max-width: 1000px){\n    #inner-container{\n      width: 80%;\n      height: 60%;\n    }\n  }\n"])),(function(n){return n.mounted?"blur(20px)":""}),(function(n){return n.mounted?"1":"0"}),(function(n){return n.darkTheme?"eee":"333"}),(function(n){return n.darkTheme?"eee":"333"})),cn=function(){var n=Object(y.b)(),e=Object(y.c)(S),t=e.error,r=e.theme,o=Object(g.useState)(!1),i=Object(T.a)(o,2),c=i[0],a=i[1],s=Object(g.useState)(!1),d=Object(T.a)(s,2),u=d[0],l=d[1];Object(g.useEffect)((function(){var n=Boolean(t);l(n),c?setTimeout((function(){return a(n)}),500):a(n)}),[t,c,l,a]),Object(g.useEffect)((function(){t&&setTimeout((function(){return n(A(void 0))}),5e3)})),Object(g.useEffect)((function(){return document.addEventListener("keydown",(function(n){return b(n)})),function(){document.removeEventListener("keydown",(function(n){return b(n)}))}}));var b=function(e){27===e.keyCode&&(n(A(void 0)),l(!1),setTimeout((function(){return a(!1)}),500))};return c?Object(Z.jsx)(on,{darkTheme:r,mounted:u,children:Object(Z.jsxs)("div",{id:"inner-container",children:[Object(Z.jsx)("div",{id:"close-error-log",onClick:function(){return n(A(void 0))},children:Object(Z.jsx)("div",{id:"close-error-log-cross"})}),Object(Z.jsx)("h5",{children:t})]})}):null},an=t(19),sn=function(n){return Object(Z.jsx)("div",Object(J.a)(Object(J.a)({},n),{},{children:Object(Z.jsx)("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24pt",height:"24pt",viewBox:"0 0 265.000000 254.000000",preserveAspectRatio:"xMidYMid meet",children:Object(Z.jsxs)("g",{transform:"translate(0.000000,254.000000) scale(0.100000,-0.100000)",stroke:"none",children:[Object(Z.jsx)("path",{d:"M1090 1844 c-190 -40 -376 -148 -540 -313 -137 -137 -173 -218 -135 -307 35 -84 164 -221 299 -316 405 -285 856 -247 1244 107 72 65 146 159 167 209 38 89 2 170 -135 307 -167 167 -349 272 -546 314 -86 18 -268 18 -354 -1z m352 -153 c184 -47 414 -202 513 -345 l38 -56 -28 -42 c-36 -56 -139 -155 -218 -211 -265 -189 -544 -219 -808 -86 -148 74 -298 196 -364 297 l-28 42 38 56 c97 141 327 297 509 344 98 26 249 26 348 1z"}),Object(Z.jsx)("path",{d:"M1173 1626 c-103 -34 -176 -98 -222 -196 -22 -46 -26 -69 -26 -140 0 -76 4 -93 33 -152 38 -77 92 -130 171 -167 47 -22 70 -26 141 -26 71 0 94 4 141 26 79 37 133 90 171 167 29 59 33 76 33 152 0 71 -4 94 -26 141 -58 124 -169 199 -302 205 -43 3 -89 -2 -114 -10z m173 -260 c28 -28 34 -42 34 -76 0 -34 -6 -48 -34 -76 -28 -28 -42 -34 -76 -34 -34 0 -48 6 -76 34 -28 28 -34 42 -34 76 0 34 6 48 34 76 28 28 42 34 76 34 34 0 48 -6 76 -34z"})]})})}))},dn=Y.b.div(s||(s=Object(H.a)(["\n  position: relative;\n  height: 2.8rem;\n  width: 100%;\n\n  input{\n    position: absolute;\n    top: 0; left: 0;\n  } \n  #eye{\n    top: calc(50% - .95rem); right: 1rem;\n    position: absolute;\n  }\n  #eye svg{\n    height: 1.9rem; width: 1.9rem;\n  }\n  #eye g{\n    fill: ",';\n  } \n  #eye::after{\n    content: "";\n    position: absolute;\n    bottom: 53%; right: 10%;\n    width: 1.6rem;\n    transform: rotateZ(-45deg);\n    height: 2px;\n    background-color: ',";\n    border-radius: .1rem;\n    transition: opacity .3s;\n    opacity: ",";\n  }\n  @supports (-webkit-touch-callout: none){\n    #eye{\n      top: calc(50% - .8rem); right: 2.5rem;\n    }\n  }\n"])),(function(n){return n.darkTheme?"#eee":"#222"}),(function(n){return n.darkTheme?"#eee":"#222"}),(function(n){return n.visible?"1":"0"})),un=function(n){var e=n.onChange,t=Object(g.useState)(!1),r=Object(T.a)(t,2),o=r[0],i=r[1],c=Object(g.useState)(""),a=Object(T.a)(c,2),s=a[0],d=a[1],u=Object(g.useRef)(null),l=Object(y.c)(S).theme;Object(g.useEffect)((function(){u.current&&0===s.length&&(u.current.type="password")}),[s]);return Object(Z.jsxs)(dn,{visible:o,darkTheme:l,children:[Object(Z.jsx)("input",{ref:u,type:"password",onChange:function(n){var t=n.target.value;t.trim(),d(t),e(t)}}),s.length>0&&Object(Z.jsx)(sn,{id:"eye",onClick:function(){i(!o),null!==u.current&&(u.current.type=o?"password":"text",u.current.focus())}})]})},ln=Y.b.p(d||(d=Object(H.a)(["\n  position: absolute;\n  left: 9%; top: calc(3.4rem + 20%);\n  width: 70%;\n  padding: 1rem;\n  background-color: #",";\n  box-shadow: ",";\n  line-height: 1.4rem;\n  border-radius: .5rem; \n  font-weight: 400;\n  transition: opacity .05s;\n  z-index: ",";\n  opacity: ",";\n  @media only screen and (max-width: 1000px){\n    top: 7.5rem;\n    left: 0;\n    width: 90%;\n  }\n  @media only screen and (max-width: 500px){\n    top: 5.5rem;\n    left: 0;\n    width: 90%;\n  }\n"])),(function(n){return n.darkTheme?"111":"fff"}),(function(n){return n.darkTheme?"0 4px 16px rgb(255 255 255 / 10%)":"0 4px 16px rgb(0 0 0 / 10%)"}),(function(n){return n.visible?"2":"-1"}),(function(n){return n.opacite?"1":"0"})),bn=function(n){var e=n.visible,t=Object(y.c)(S).theme,r=Object(g.useState)(!1),o=Object(T.a)(r,2),i=o[0],c=o[1],a=Object(g.useState)(!1),s=Object(T.a)(a,2),d=s[0],u=s[1];return Object(g.useEffect)((function(){c(e),e?u(!0):setTimeout((function(){return u(!1)}),50)}),[e]),Object(Z.jsx)(ln,{opacite:i,darkTheme:t,visible:d,children:"To login for being able to edit content of this webpage, you have to enter your username, and password"})},mn=(t(31),function(){return Object(Z.jsx)("div",{className:"loader"})}),hn=function(n){var e=n.label,t=Object(y.b)(),r=Object(k.g)(),o=Object(g.useState)(""),i=Object(T.a)(o,2),c=i[0],a=i[1],s=Object(g.useState)(""),d=Object(T.a)(s,2),u=d[0],l=d[1],b=Object(g.useState)(!1),m=Object(T.a)(b,2),h=m[0],f=m[1],j=function(n){var e=n.label,t=n.onClick,r=n.component,o=n.id,i=Object(y.c)(S).loading,c=Object(g.useState)(e),a=Object(T.a)(c,2),s=a[0],d=a[1];return Object(g.useEffect)((function(){d(i?r:e)}),[i,e,r]),[Object(Z.jsx)("div",{id:o,onClick:t,className:"no-select",children:s})]}({component:mn,label:e.toUpperCase(),onClick:function(n){return n.preventDefault(),c.length<4?t(A("Username is to short")):u.length<5?t(A("Password does not seem to match")):(t(D(!0)),void fetch("/auth/login",{method:"PUT",body:JSON.stringify({username:c,password:u}),headers:{"content-type":"application/json"}}).then((function(n){return n.json()})).then((function(n){if(n.error)return t(A(n.error));if(!n.success)throw Error("Auth failed");t(P({username:c})),r.push("/")})).catch((function(n){return t(A(n.message))})).finally((function(){return t(D(!1))})))},id:"button"}),p=Object(T.a)(j,1)[0];return Object(Z.jsxs)("form",{children:[Object(Z.jsxs)("p",{className:"no-select",children:["Your Username",Object(Z.jsx)("span",{id:"info",onClick:function(){an.isMobile&&f(!h)},onMouseEnter:function(){an.isMobile||f(!0)},onMouseLeave:function(){an.isMobile||f(!1)},children:"\u24d8"})]}),Object(Z.jsx)(bn,{visible:h}),Object(Z.jsx)("input",{type:"text",onChange:function(n){return a(n.target.value)}}),Object(Z.jsx)("p",{className:"no-select",children:"Password"}),Object(Z.jsx)(un,{onChange:function(n){return l(n)}}),p]})},fn=Y.b.div(u||(u=Object(H.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  position: relative;\n\n  #content{\n    height: 70%;\n    width: 40%;\n    padding: 5%;\n    position: relative;\n  }\n  #content h1{\n    margin-bottom: .6rem;\n    font-size: 2.5rem;\n    font-family: 'Noto Sans TC', Arial, Helvetica, sans-serif;\n    color: #",";\n  }\n  h5{\n    color: #ff5533;\n    font-size: 1rem;\n    font-weight: 500;\n  }\n  #content input{\n    width: 100%;\n  }\n  #button{\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-top: 1.8rem;\n    width: 100%;\n    height: 2.8rem;\n    border-radius: 1.8rem;\n    font-size: 1.1rem;\n    border: none;\n    background-color: #3355ee;\n    font-size: .9rem;\n    font-family: 'Noto Sans TC', Arial, Helvetica, sans-serif;\n    color: #eee;  \n    transition: background-color .5s;\n  }\n  #button:focus{\n    outline: none;\n  }\n  #button:hover{\n    background-color: #3355aa;\n  }\n  #info{\n    margin-left: .5rem;\n    font-weight: 700;\n  }\n\n  .loader,\n  .loader:before,\n  .loader:after {\n    border-radius: 50%;\n    width: 1rem;\n    height: 1rem;\n    -webkit-animation-fill-mode: both;\n    animation-fill-mode: both;\n    -webkit-animation: load7 1.8s infinite ease-in-out;\n    animation: load7 1.8s infinite ease-in-out;\n  }\n  .loader {\n    color: #ffffff;\n    position: relative; \n    margin-top: -5rem;\n    -webkit-animation-delay: -0.16s;\n    animation-delay: -0.16s;\n  }\n  .loader:before,\n  .loader:after {\n    content: '';\n    position: absolute;\n    top: 0;\n  }\n  .loader:before {\n    left: -2rem;\n    -webkit-animation-delay: -0.32s;\n    animation-delay: -0.32s;\n  }\n  .loader:after {\n    left: 2rem;\n  }\n  @-webkit-keyframes load7 {\n    0%,\n    80%,\n    100% {\n      box-shadow: 0 2.5rem 0 -1.3rem;\n    }\n    40% {\n      box-shadow: 0 2.5rem 0 0;\n    }\n  }\n  @keyframes load7 {\n    0%,\n    80%,\n    100% {\n      box-shadow: 0 2.5rem 0 -1.3rem;\n    }\n    40% {\n      box-shadow: 0 2.5rem 0 0;\n    }\n  }\n  @media only screen and (max-width: 500px){\n    #content h1{\n      margin-bottom: .2rem; \n      font-size: 1.7rem;\n    }\n    #button{\n      margin-top: 1.5rem;\n      width: 90%;\n      height: 2.5rem;\n      border-radius: 1.8rem;\n      font-size: 1rem;\n    }\n  }\n  @supports (-webkit-touch-callout: none){\n    #content input{\n      height: 3rem;\n      padding: .7rem .8rem;\n      font-size: 1rem;\n      font-weight: 500;\n    }\n    #button{\n      height: 3rem;\n    }\n  }\n"])),(function(n){return n.darkTheme?"eee":"222"})),jn=function(){var n="Sign In",e=Object(y.c)(S).theme;return Object(Z.jsx)(fn,{darkTheme:e,children:Object(Z.jsxs)("div",{id:"content",children:[Object(Z.jsx)("h1",{children:n}),Object(Z.jsx)(hn,{label:n.toUpperCase()})]})})},pn=Y.b.div(l||(l=Object(H.a)(["\n\n"]))),On=Y.b.div(b||(b=Object(H.a)(["\n  img{\n    max-width: 50vw;\n  }\n"]))),gn=function(n){var e=n.src,t=n.onClickOnDelete,r=n.onClickInModal,o=Object(y.c)(S).theme;return Object(Z.jsxs)(On,{darkTheme:o,children:[Object(Z.jsx)("img",{src:e,alt:"Your pic from aws S3"}),Object(Z.jsx)("div",{id:"delete-btn",onClick:t,children:"\ud83d\uddd1"}),Object(Z.jsx)("div",{id:"open-in-modal-btn",onClick:r,children:"\ud83d\udd0d"})]})},xn=Y.b.div(m||(m=Object(H.a)(["\n  z-index: 5;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  backdrop-filter: blur(25px);\n\n  #centred{\n    width: 100%; height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n"]))),vn=Object(g.createContext)((function(){})),wn=Y.b.div(h||(h=Object(H.a)(["\n  position: absolute;\n  top: 1rem;\n  right: .3rem;\n  padding: .8rem;\n  transition: transform .5s;\n\n  div{\n    width: 2rem;\n    height: .2rem;\n    background-color: #888;\n    border-radius: .3rem;\n  }\n  #upper{\n    margin-bottom: -.2rem;\n    transform: rotate(45deg);\n  }\n  #lower{\n    transform: rotate(-45deg);\n  }\n  :hover{\n    transform: rotate(90deg);\n  }\n"]))),yn=function(){return Object(Z.jsx)(vn.Consumer,{children:function(n){return Object(Z.jsxs)(wn,{onClick:function(){return n()},children:[Object(Z.jsx)("div",{id:"upper"}),Object(Z.jsx)("div",{id:"lower"})]})}})},kn=function(n){var e=n.children,t=Object(y.c)(S).theme;return Object(g.useEffect)((function(){return document.body.style.overflow="hidden",function(){document.body.style.overflow="unset"}}),[]),Object(Z.jsxs)(xn,{darkTheme:t,children:[Object(Z.jsx)("div",{id:"centred",children:e}),Object(Z.jsx)(yn,{})]})},Tn=x.a.memo(kn),Sn=function(){var n=Object(g.useState)([]),e=Object(T.a)(n,2),t=e[0],r=e[1],o=Object(g.useState)(null),i=Object(T.a)(o,2),c=i[0],a=i[1];Object(g.useEffect)((function(){fetch("/images/list",{method:"PUT"}).then((function(n){return n.json()})).then((function(n){n.images&&r(n.images)}))}),[]);var s=Object(g.useCallback)((function(n){var e=n.split("/images/");e.length>1&&fetch("/images/delete_image/".concat(e[e.length-1]),{method:"DELETE"}).then((function(n){return n.json()})).then((function(e){console.log(e),r(t.filter((function(e){return e!==n})))}))}),[t]),d=Object(g.useMemo)((function(){return t.length>0?t.map((function(n,e){return Object(Z.jsx)(gn,{src:n,onClickOnDelete:function(){return s(n)},onClickInModal:function(){return a(n)}},n+e)})):null}),[t,s]);return Object(Z.jsxs)(pn,{children:[d,c&&Object(Z.jsx)(vn.Provider,{value:function(){return a(null)},children:Object(Z.jsx)(Tn,{children:Object(Z.jsx)("img",{src:c,alt:"One of your pics from aws S3"})})})]})},Cn=Y.b.div(f||(f=Object(H.a)(["\n\n"]))),En=function(){var n=Object(y.c)(S).theme;return Object(Z.jsx)(Cn,{darkTheme:n})},zn=Y.b.div(j||(j=Object(H.a)(["\n  display: flex;\n  flex-wrap: wrap;\n\n  div{\n    width: 50%;\n    height: 100vh;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: background-color 1s;\n  }\n  div:hover{\n    background-color: #888;\n  }\n  @media only screen and (max-width: 1000px){\n    h2{\n      font-size: 1.3rem;\n    }\n  }\n  @media only screen and (max-width: 700px){\n    div{\n      width: 100%;\n    }\n  }\n"]))),Mn=Y.b.form(p||(p=Object(H.a)(["\n  width: 30%;\n  p{\n    margin-top: 1.5rem;\n    margin-bottom: .5rem;\n    margin-left: .9rem;\n    color: #",";\n    font-weight: 500;\n    letter-spacing: .03rem;\n  }\n  input{\n    height: 2.8rem; width: 100%;\n    border: none;\n    background-color: #",";\n    padding: .5rem 1.3rem;\n    border-radius: 1.8rem;\n    font-size: 1.1rem;\n    transition: box-shadow .3s;\n    color: #",";\n  }\n  button{\n    margin-top: 1.8rem;\n    width: 100%;\n    height: 2.8rem;\n    border-radius: 1.8rem;\n    font-size: 1.1rem;\n    border: none;\n    background-color: #3355ee;\n    font-size: .9rem;\n    font-family: 'Noto Sans TC', Arial, Helvetica, sans-serif;\n    color: #eee;  \n    transition: background-color .5s;\n  }\n"])),(function(n){return n.darkTheme?"bbb":"555"}),(function(n){return n.darkTheme?"252525":"f5f5f5"}),(function(n){return n.darkTheme?"ddd":"333"})),Nn=function(){var n=Object(y.c)(S).theme,e=Object(g.useContext)(vn),t=Object(y.b)(),r=Object(g.useState)(""),o=Object(T.a)(r,2),i=o[0],c=o[1],a=Object(g.useState)(""),s=Object(T.a)(a,2),d=s[0],u=s[1],l=Object(g.useState)(""),b=Object(T.a)(l,2),m=b[0],h=b[1];return Object(Z.jsxs)(Mn,{darkTheme:n,children:[Object(Z.jsx)("p",{children:"Your old password"}),Object(Z.jsx)(un,{onChange:function(n){return c(n)}}),Object(Z.jsx)("p",{children:"Your old password again"}),Object(Z.jsx)(un,{onChange:function(n){return u(n)}}),Object(Z.jsx)("p",{children:"Your new password"}),Object(Z.jsx)(un,{onChange:function(n){return h(n)}}),Object(Z.jsx)("button",{onClick:function(n){return n.preventDefault(),0===i.length||0===d.length||0===m.length?t(A("Fill all fields")):i!==d?t(A("Passwords should match")):i.length<5||d.length<5||m.length<5?t(A("Passwords too short")):(t(D(!0)),void fetch("/edit/password",{method:"PUT",body:JSON.stringify({pw:i,pw_repeat:d,new_pw:m}),headers:{"content-type":"application/json"}}).then((function(n){return n.json()})).then((function(n){if(n.error)return t(A(n.error))})).catch((function(n){return t(A(n.message||"Error occured"))})).finally((function(){t(D(!1)),e()})))},children:"Submit"})]})},In=function(){var n=Object(y.c)(S).theme,e=Object(y.c)(C).username,t=Object(y.b)(),r=Object(g.useContext)(vn),o=Object(g.useState)(""),i=Object(T.a)(o,2),c=i[0],a=i[1],s=Object(g.useState)(""),d=Object(T.a)(s,2),u=d[0],l=d[1];return Object(Z.jsxs)(Mn,{darkTheme:n,children:[Object(Z.jsx)("p",{children:"Your current username"}),Object(Z.jsx)("input",{type:"text",onChange:function(n){return a(n.target.value)}}),Object(Z.jsx)("p",{children:"Your new username"}),Object(Z.jsx)("input",{type:"text",onChange:function(n){return l(n.target.value)}}),Object(Z.jsx)("button",{onClick:function(n){return n.preventDefault(),0===c.length||0===u.length?t(A("Fill all of the fields")):c.length<4||u.length<4?t(A("Username must be at least 4 characters")):e!==c?t(A("Wrong current username")):(t(D(!0)),void fetch("/edit/username",{method:"PUT",body:JSON.stringify({username:u,old_username:c}),headers:{"content-type":"application/json"}}).then((function(n){return n.json()})).then((function(n){if(n.error)return t(A(n.error));t(P({username:n.username}))})).catch((function(n){return t(A(n.message||"Error occured"))})).finally((function(){t(D(!1)),r()})))},children:"Submit"})]})},Un=Y.b.div(O||(O=Object(H.a)(["\n  position: fixed;\n  top: 0;\n  left: ",'vw;\n  width: 100vw;\n  height: 100vh;\n  z-index: 10;\n  backdrop-filter: blur(20px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  .lds-hourglass {\n    display: inline-block;\n    position: relative;\n    width: 30vh;\n    height: 30vh;\n  }\n  .lds-hourglass:after {\n    content: " ";\n    display: block;\n    border-radius: 50%;\n    width: 0;\n    height: 0;\n    box-sizing: border-box;\n    border: 12vh solid #3355ff;\n    border-color: #3355ff transparent #3355ff transparent;\n    animation: lds-hourglass 2s infinite;\n  }\n  @keyframes lds-hourglass {\n    0% {\n      transform: rotate(0);\n      animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);\n    }\n    50% {\n      transform: rotate(900deg);\n      animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n    }\n    100% {\n      transform: rotate(1800deg);\n    }\n  }\n'])),(function(n){return n.loading?0:-100})),Ln=function(){var n=Object(y.c)(S).loading;return Object(g.useEffect)((function(){document.body.style.overflow=n?"hidden":"unset"}),[n]),Object(Z.jsx)(Un,{loading:n,children:Object(Z.jsx)("div",{className:"lds-hourglass"})})},Pn=function(){var n=Object(g.useState)(!1),e=Object(T.a)(n,2),t=e[0],r=e[1],o=Object(g.useState)(!1),i=Object(T.a)(o,2),c=i[0],a=i[1];return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsxs)(zn,{children:[Object(Z.jsx)("div",{onClick:function(){return a(!0)},children:Object(Z.jsx)("h2",{children:"Set new password"})}),Object(Z.jsx)("div",{onClick:function(){return r(!0)},children:Object(Z.jsx)("h2",{children:"Set new username"})})]}),t&&Object(Z.jsx)(vn.Provider,{value:function(){return r(!1)},children:Object(Z.jsx)(Tn,{children:Object(Z.jsx)(In,{})})}),c&&Object(Z.jsx)(vn.Provider,{value:function(){return a(!1)},children:Object(Z.jsx)(Tn,{children:Object(Z.jsx)(Nn,{})})}),Object(Z.jsx)(Ln,{})]})},_n=function(){return Object(Z.jsxs)(G.a,{children:[Object(Z.jsx)(V,{}),Object(Z.jsx)(rn,{}),Object(Z.jsx)(cn,{}),Object(Z.jsxs)(k.d,{children:[Object(Z.jsx)(W,{exact:!0,path:"/login",component:jn}),Object(Z.jsx)(W,{exact:!0,path:"/images",privateRoute:!0,component:Sn}),Object(Z.jsx)(W,{exact:!0,path:"/content",privateRoute:!0,component:En}),Object(Z.jsx)(W,{exact:!0,path:"/credentials",privateRoute:!0,component:Pn})]})]})},An=function(){var n=Object(y.c)(S).theme,e=Object(g.useState)(!0),t=Object(T.a)(e,2),r=t[0],o=t[1],i=Object(y.b)();Object(g.useEffect)((function(){return window.addEventListener("storage",c),function(){window.removeEventListener("storage",c)}})),Object(g.useEffect)((function(){fetch("/auth/whoami").then((function(n){return n.json()})).then((function(n){n.username&&i(P({username:n.username}))})).catch((function(n){return A(n.message)})).finally((function(){return o(!1)}))}),[i]);var c=function(n){!n.key&&a()},a=function(){window.localStorage.setItem("theme","false"),i(function(n){return{type:N,theme:n}}(!1)),i(_())};return Object(Z.jsxs)("div",{children:[Object(Z.jsx)(F,{darkTheme:n}),Object(Z.jsx)(cn,{}),!r&&Object(Z.jsx)(_n,{})]})},Dn=t(17),Rn={error:void 0,loading:!1,menuOpened:!1,theme:"true"===window.localStorage.getItem("theme")},Hn={username:void 0,loggedIn:!1},Yn=Object(Dn.b)({app:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case I:return Object(J.a)(Object(J.a)({},n),{},{error:e.error});case U:return Object(J.a)(Object(J.a)({},n),{},{loading:e.loading});case L:return Object(J.a)(Object(J.a)({},n),{},{menuOpened:e.opened});case N:return Object(J.a)(Object(J.a)({},n),{},{theme:e.theme});case M:return Object(J.a)(Object(J.a)({},n),{},{theme:!n.theme});default:return n}},auth:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hn,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case z:return Object(J.a)(Object(J.a)({},n),{},{loggedIn:!0,username:e.payload.username});case E:return Object(J.a)(Object(J.a)({},n),{},{loggedIn:!1,username:void 0});default:return n}}}),Fn=Object(Dn.c)(Yn),Gn=t(10),Jn=Object(Gn.a)();w.a.render(Object(Z.jsx)(x.a.StrictMode,{children:Object(Z.jsx)(k.c,{history:Jn,children:Object(Z.jsx)(y.a,{store:Fn,children:Object(Z.jsx)(An,{})})})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.f54f9932.chunk.js.map