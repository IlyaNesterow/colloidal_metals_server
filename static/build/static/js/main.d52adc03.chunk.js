(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{48:function(n,e,t){"use strict";t.r(e);var r,o,i,c,a,s,d,u,l,m,b,f,h,j,p,g,O,x,v=t(0),w=t.n(v),y=t(20),k=t.n(y),T=t(2),C=t(8),S=t(3),E=function(n){return n.app},z=function(n){return n.auth},U="LOGOUT",M="LOGIN",N="TOGGLE_THEME",L="SET_DEFAULT_THEME",I="SET_ERROR",P="SET_LOADING",R="OPEN_CLOSE_MENU",_=function(n){return{type:M,payload:n}},D=function(){return{type:U}},H=function(n){return{type:I,error:n}},A=function(n){return{type:P,loading:n}},F=function(n){return{type:R,opened:n}},Y=t(4),G=t(5),J=Object(G.a)(r||(r=Object(Y.a)(["\n  ::-webkit-scrollbar { \n    display: none; \n  }\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    font-family: 'Montserrat', sans-serif;\n    font-weight: 200;\n  }\n  .no-select{\n    user-select: none; \n    -moz-user-select: none;\n    -webkit-user-drag: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n  }\n  body {\n    transition: background-color .2s;\n    overflow-x: hidden;\n    background-color: ",";\n    position: relative;\n    min-height: 100vh;\n  }\n  a{\n    text-decoration: none;\n  }\n  h1, h2{\n    color: #",";\n  }\n  p{\n    color: #",";\n  }\n  button, label{\n    margin-top: 1.8rem;\n    font-size: 1.1rem;\n    border: none;\n    border-radius: 1.8rem;\n    background-color: #3355ee;\n    font-size: .9rem;\n    font-family: 'Noto Sans TC', Arial, Helvetica, sans-serif;\n    color: #eee;  \n    transition: background-color .5s;\n  }\n  form p{\n    margin-top: 1.5rem;\n    margin-bottom: .5rem;\n    margin-left: .9rem;\n    color: #",";\n    font-weight: 500;\n    letter-spacing: .03rem;\n  }\n  form input{\n    height: 2.8rem;\n    border: none;\n    background-color: #",";\n    padding: .5rem 1.3rem;\n    border-radius: 1.8rem;\n    font-size: 1.1rem;\n    transition: box-shadow .3s;\n    color: #",";\n  }\n  #tooltip{\n    color: #",";\n  }\n  input:focus{\n    box-shadow: 0 0 .1rem #888;\n  }\n  *:focus{\n    outline: none;\n  }\n  button:hover, label:hover{\n    background-color: #3355aa;\n  }\n  #close-error-log-cross{\n    background-color: #",";\n  }\n  #close-error-log-cross::after{\n    background-color: #",";\n  }\n  @media only screen and (max-width: 1000px){\n    form, #content{\n      min-width: 60%;\n    }\n  }\n  @media only screen and (max-width: 500px){\n    form, #content{\n      min-width: 80%;\n    }\n    form input{\n      height: 2.3rem;\n      padding: .5rem 1.3rem;\n      font-size: 1rem;\n    }\n    form p{\n      margin-top: 1.1rem;\n      margin-bottom: .3rem;\n      margin-left: .7rem;\n    }\n  }\n"])),(function(n){return n.darkTheme?"#111":"#fefefe"}),(function(n){return n.darkTheme?"eee":"111"}),(function(n){return n.darkTheme?"fff":"222"}),(function(n){return n.darkTheme?"bbb":"555"}),(function(n){return n.darkTheme?"252525":"f5f5f5"}),(function(n){return n.darkTheme?"ddd":"333"}),(function(n){return n.darkTheme?"fff":"222"}),(function(n){return n.darkTheme?"eee":"333"}),(function(n){return n.darkTheme?"eee":"333"})),Z=t(13),B=t(7),W=t(35),V=t(1),q=function(n){var e=n.component,t=n.redirectTo,r=n.privateRoute,o=Object(W.a)(n,["component","redirectTo","privateRoute"]),i=Object(T.c)(z).loggedIn;return void 0===r&&(r=!1),Object(V.jsx)(C.b,Object(B.a)({render:function(n){return i===r?Object(V.jsx)(e,Object(B.a)({},n)):Object(V.jsx)(C.a,{to:t||"/"})}},o))},K=function(){var n=Object(T.c)(E).menuOpened,e=Object(T.b)();return Object(V.jsxs)("div",{id:"Menu",className:n?"closed":"opened",onClick:function(){return e(F(!n))},children:[Object(V.jsx)("div",{id:"top"}),Object(V.jsx)("div",{id:"middle"}),Object(V.jsx)("div",{id:"bottom"})]})},Q=function(){var n=Object(T.c)(z).loggedIn,e=Object(T.b)(),t=Object(C.g)();return n?Object(V.jsx)("div",{className:"menu-link",onClick:function(){e(D()),fetch("/auth/logout").then((function(n){return n.json()})).then((function(n){if(!n.logout)throw new Error("Logout failed");t.push("/login")})).catch((function(n){return e(H(n.message||"Logout failed"))}))},id:"auth-ctx",children:"LOG OUT"}):null},X=G.b.nav(o||(o=Object(Y.a)(["\n  width: 100vw; height: 3.4rem;\n  transition: background-color .2s;\n  background: linear-gradient(#",", transparent);\n  display: flex;\n  justify-content: space-between;\n  position: relative;\n  position: fixed;\n  top: 0; left: 0;\n  z-index: 4;\n\n\n  #Menu{\n    width: 1.3rem;\n    margin-top: 1.25rem;\n    margin-right: .75rem;\n    padding: 1rem;\n    position: fixed;\n    right: 0; \n    top: 0;\n    z-index: 5; \n  } \n  #auth-ctx{\n    right: 4rem;\n    padding: 1rem;\n    position: fixed;\n    right: 3.05; top: 0;\n    color: ",";\n    font-weight: 600; \n    font-size: .85rem; \n    font-family: 'Open Sans', Arial, Helvetica, sans-serif;\n    letter-spacing: .03rem;\n    z-index: 2; \n  }\n  #Menu div{\n    width: 1.1rem;\n    height: 2px;\n    background-color: ","; \n  }\n  #top, #middle, #bottom{\n    position: absolute;\n    transition: all .3s; \n  }\n  #top{\n    left: 0; top: 0;\n  }\n  #middle{\n    left: 0; top: .3rem;\n  }\n  #bottom{\n    left: 0; top: .6rem;\n  }\n  .opened > #middle{\n    opacity: 1; \n    width: 1.1rem;\n    margin-left: 0;\n  } \n  .closed > #middle{\n    opacity: 0;\n    width: 0;\n    margin-left: 50%; \n  }\n  .closed > #bottom,\n  .closed > #top{\n    top: .3rem;\n    background-color: #888;  \n  }\n  .closed > #top{\n    transform: rotate(45deg);\n  }\n  .closed > #bottom{\n    transform: rotate(-45deg);\n  }\n  @media only screen and (max-width: 1000px){\n    #auth-ctx{\n      display: none;\n    }\n  }\n"])),(function(n){return n.darkTheme?"111":"fff"}),(function(n){return n.darkTheme?"#eee":"#111"}),(function(n){return n.darkTheme?"#fff":"#333"})),$=function(){var n=Object(T.c)(E),e=n.menuOpened,t=n.theme;return Object(V.jsxs)(X,{darkTheme:t,opened:e,children:[Object(V.jsx)(Q,{}),Object(V.jsx)(K,{})]})},nn=G.b.div(i||(i=Object(Y.a)(["\n  #tab{\n    height: 100vh;\n    width: 312px;\n    max-width: 85%;\n    position: fixed;\n    transition: right .5s;\n    top: 0;\n    right: ",";\n    background-color: ",";\n    z-index: 3;\n  }\n  \n  #shadow{\n    height: 100vh;\n    width: 100vw;\n    position: fixed;\n    top: 0;\n    backdrop-filter: blur(",");\n    left: ",";\n    z-index: 2;\n  }\n"])),(function(n){return n.opened?"0":"-320px"}),(function(n){return n.darkTheme?"#111":"#fff"}),(function(n){return n.opened?"25px":"10px"}),(function(n){return n.opened?"0":"-100vw"})),en=G.b.div(c||(c=Object(Y.a)(["\n  position: relative;\n  margin-top: 2rem;\n  height: calc(100vh - 3.5rem);\n  width: 100%;\n  padding: 1rem;\n  overflow: hidden;\n\n  #inner-container{\n    position: absolute;\n    margin: 0 .5rem;\n    height: calc(100% - 1rem); width: calc(100% - 1rem);\n    left: 0; top: ",";\n    transition: top .5s ease-out;\n    overflow-y: auto;\n  }\n  .menu-link{\n    display: block;\n    padding: 1.19rem .8rem;\n    margin: 0 .9rem;\n    color: ",";\n    font-weight: 500;\n    font-size: .85rem;\n    letter-spacing: .03rem;\n    font-family: 'Open Sans', Arial, Helvetica, sans-serif;\n    border-bottom: solid 1px ",";\n  }\n  #auth-ctx{\n    display: none;\n  }\n  @media only screen and (max-width: 1000px){\n    #auth-ctx{\n      display: block;\n    }\n  }\n"])),(function(n){return n.rollDown?"0":"-100rem"}),(function(n){return n.darkTheme?"#eee":"#111"}),(function(n){return n.darkTheme?"rgba(222,222,222,0.25)":"rgba(0,0,0,0.25)"})),tn=["content","pictures","credentials"],rn=function(){var n=Object(T.c)(E).theme,e=Object(T.b)(),t=function(){var e="";return e+=n?"bright":"dark",(e+=" ").toUpperCase()},r=function(){var n;e({type:N}),n="theme",window.localStorage.setItem(n,"true"===window.localStorage.getItem(n)?"false":"true")};return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("span",{className:"menu-link no-select",onClick:r,children:t()}),Object(V.jsx)(Q,{})]})},on=function(){var n=Object(T.c)(E),e=n.menuOpened,t=n.theme,r=Object(T.b)(),o=Object(v.useState)(!1),i=Object(S.a)(o,2),c=i[0],a=i[1];Object(v.useEffect)((function(){e?setTimeout((function(){return a(!0)}),150):a(!1)}),[e]);var s;return Object(V.jsx)(en,{rollDown:c,darkTheme:t,children:Object(V.jsxs)("div",{id:"inner-container",children:[(s=tn,Object(V.jsx)(V.Fragment,{children:s.map((function(n){return Object(V.jsx)(Z.b,{to:n.startsWith("/")?n:"/".concat(n.trim()),className:"menu-link",onClick:function(){return r(F(!1))},activeStyle:{color:"#888"},children:n.toUpperCase()},n)}))})),Object(V.jsx)(rn,{})]})})},cn=function(){var n=Object(T.c)(E),e=n.menuOpened,t=n.theme;return Object(v.useEffect)((function(){document.body.style.overflow=e?"hidden":"unset"}),[e]),Object(V.jsxs)(nn,{opened:e,darkTheme:t,children:[Object(V.jsx)("div",{id:"tab",children:Object(V.jsx)(on,{})}),Object(V.jsx)("div",{id:"shadow"})]})},an=t(17),sn=function(n){return Object(V.jsx)("div",Object(B.a)(Object(B.a)({},n),{},{children:Object(V.jsx)("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24pt",height:"24pt",viewBox:"0 0 265.000000 254.000000",preserveAspectRatio:"xMidYMid meet",children:Object(V.jsxs)("g",{transform:"translate(0.000000,254.000000) scale(0.100000,-0.100000)",stroke:"none",children:[Object(V.jsx)("path",{d:"M1090 1844 c-190 -40 -376 -148 -540 -313 -137 -137 -173 -218 -135 -307 35 -84 164 -221 299 -316 405 -285 856 -247 1244 107 72 65 146 159 167 209 38 89 2 170 -135 307 -167 167 -349 272 -546 314 -86 18 -268 18 -354 -1z m352 -153 c184 -47 414 -202 513 -345 l38 -56 -28 -42 c-36 -56 -139 -155 -218 -211 -265 -189 -544 -219 -808 -86 -148 74 -298 196 -364 297 l-28 42 38 56 c97 141 327 297 509 344 98 26 249 26 348 1z"}),Object(V.jsx)("path",{d:"M1173 1626 c-103 -34 -176 -98 -222 -196 -22 -46 -26 -69 -26 -140 0 -76 4 -93 33 -152 38 -77 92 -130 171 -167 47 -22 70 -26 141 -26 71 0 94 4 141 26 79 37 133 90 171 167 29 59 33 76 33 152 0 71 -4 94 -26 141 -58 124 -169 199 -302 205 -43 3 -89 -2 -114 -10z m173 -260 c28 -28 34 -42 34 -76 0 -34 -6 -48 -34 -76 -28 -28 -42 -34 -76 -34 -34 0 -48 6 -76 34 -28 28 -34 42 -34 76 0 34 6 48 34 76 28 28 42 34 76 34 34 0 48 -6 76 -34z"})]})})}))},dn=G.b.div(a||(a=Object(Y.a)(["\n  position: relative;\n  height: 2.8rem;\n  width: 100%;\n\n  input{\n    position: absolute;\n    top: 0; left: 0;\n  } \n  #eye{\n    top: calc(50% - .95rem); right: 1rem;\n    position: absolute;\n  }\n  #eye svg{\n    height: 1.9rem; width: 1.9rem;\n  }\n  #eye g{\n    fill: ",';\n  } \n  #eye::after{\n    content: "";\n    position: absolute;\n    bottom: 53%; right: 10%;\n    width: 1.6rem;\n    transform: rotateZ(-45deg);\n    height: 2px;\n    background-color: ',";\n    border-radius: .1rem;\n    transition: opacity .3s;\n    opacity: ",";\n  }\n  @supports (-webkit-touch-callout: none){\n    #eye{\n      top: calc(50% - .8rem); right: 2.5rem;\n    }\n  }\n"])),(function(n){return n.darkTheme?"#eee":"#222"}),(function(n){return n.darkTheme?"#eee":"#222"}),(function(n){return n.visible?"1":"0"})),un=function(n){var e=n.onChange,t=Object(v.useState)(!1),r=Object(S.a)(t,2),o=r[0],i=r[1],c=Object(v.useState)(""),a=Object(S.a)(c,2),s=a[0],d=a[1],u=Object(v.useRef)(null),l=Object(T.c)(E).theme;Object(v.useEffect)((function(){u.current&&0===s.length&&(u.current.type="password")}),[s]);return Object(V.jsxs)(dn,{visible:o,darkTheme:l,children:[Object(V.jsx)("input",{ref:u,type:"password",onChange:function(n){var t=n.target.value;t.trim(),d(t),e(t)}}),s.length>0&&Object(V.jsx)(sn,{id:"eye",onClick:function(){i(!o),null!==u.current&&(u.current.type=o?"password":"text",u.current.focus())}})]})},ln=G.b.p(s||(s=Object(Y.a)(["\n  position: absolute;\n  left: 9%; top: calc(3.4rem + 20%);\n  width: 70%;\n  padding: 1rem;\n  background-color: #",";\n  box-shadow: ",";\n  line-height: 1.4rem;\n  border-radius: .5rem; \n  font-weight: 400;\n  transition: opacity .05s;\n  z-index: ",";\n  opacity: ",";\n  @media only screen and (max-width: 1000px){\n    top: 7.5rem;\n    left: 0;\n    width: 90%;\n  }\n  @media only screen and (max-width: 500px){\n    top: 5.5rem;\n    left: 0;\n    width: 90%;\n  }\n"])),(function(n){return n.darkTheme?"111":"fff"}),(function(n){return n.darkTheme?"0 4px 16px rgb(255 255 255 / 10%)":"0 4px 16px rgb(0 0 0 / 10%)"}),(function(n){return n.visible?"2":"-1"}),(function(n){return n.opacite?"1":"0"})),mn=function(n){var e=n.visible,t=Object(T.c)(E).theme,r=Object(v.useState)(!1),o=Object(S.a)(r,2),i=o[0],c=o[1],a=Object(v.useState)(!1),s=Object(S.a)(a,2),d=s[0],u=s[1];return Object(v.useEffect)((function(){c(e),e?u(!0):setTimeout((function(){return u(!1)}),50)}),[e]),Object(V.jsx)(ln,{opacite:i,darkTheme:t,visible:d,children:"To login for being able to edit content of this webpage, you have to enter your username, and password"})},bn=(t(33),function(){var n=Object(v.useState)(!1),e=Object(S.a)(n,2),t=e[0],r=e[1],o=Object(v.useRef)(null);return Object(v.useEffect)((function(){o.current&&!an.isMobile&&(o.current.addEventListener("mouseenter",(function(){return r(!0)})),o.current.addEventListener("mouseleave",(function(){return r(!1)})))})),{on:t,element:o}}),fn=function(){return Object(V.jsx)("div",{className:"loader"})},hn=function(n){var e=n.label,t=Object(T.b)(),r=Object(C.g)(),o=Object(v.useState)(""),i=Object(S.a)(o,2),c=i[0],a=i[1],s=Object(v.useState)(""),d=Object(S.a)(s,2),u=d[0],l=d[1],m=Object(v.useState)(!1),b=Object(S.a)(m,2),f=b[0],h=b[1],j=function(n){var e=n.label,t=n.onClick,r=n.component,o=n.id,i=Object(T.c)(E).loading,c=Object(v.useState)(e),a=Object(S.a)(c,2),s=a[0],d=a[1];return Object(v.useEffect)((function(){d(i?r:e)}),[i,e,r]),[Object(V.jsx)("div",{id:o,onClick:t,className:"no-select",children:s})]}({component:fn,label:e.toUpperCase(),onClick:function(n){return n.preventDefault(),c.length<4?t(H("Username is to short")):u.length<5?t(H("Password does not seem to match")):(t(A(!0)),void fetch("/auth/login",{method:"PUT",body:JSON.stringify({username:c,password:u}),headers:{"content-type":"application/json"}}).then((function(n){return n.json()})).then((function(n){if(n.error)return t(H(n.error));if(!n.success)throw Error("Auth failed");t(_({username:c})),r.push("/")})).catch((function(n){return t(H(n.message))})).finally((function(){return t(A(!1))})))},id:"button"}),p=Object(S.a)(j,1)[0];return Object(V.jsxs)("form",{children:[Object(V.jsxs)("p",{className:"no-select",children:["Your Username",Object(V.jsx)("span",{id:"info",onClick:function(){an.isMobile&&h(!f)},onMouseEnter:function(){an.isMobile||h(!0)},onMouseLeave:function(){an.isMobile||h(!1)},children:"\u24d8"})]}),Object(V.jsx)(mn,{visible:f}),Object(V.jsx)("input",{type:"text",onChange:function(n){return a(n.target.value)}}),Object(V.jsx)("p",{className:"no-select",children:"Password"}),Object(V.jsx)(un,{onChange:function(n){return l(n)}}),p]})},jn=G.b.div(d||(d=Object(Y.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  position: relative;\n\n  #content{\n    height: 70%;\n    width: 40%;\n    padding: 5%;\n    position: relative;\n  }\n  #content h1{\n    margin-bottom: .6rem;\n    font-size: 2.5rem;\n    font-family: 'Noto Sans TC', Arial, Helvetica, sans-serif;\n    color: #",";\n  }\n  h5{\n    color: #ff5533;\n    font-size: 1rem;\n    font-weight: 500;\n  }\n  #content input{\n    width: 100%;\n  }\n  #button{\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-top: 1.8rem;\n    width: 100%;\n    height: 2.8rem;\n    border-radius: 1.8rem;\n    font-size: 1.1rem;\n    border: none;\n    background-color: #3355ee;\n    font-size: .9rem;\n    font-family: 'Noto Sans TC', Arial, Helvetica, sans-serif;\n    color: #eee;  \n    transition: background-color .5s;\n  }\n  #button:hover{\n    background-color: #3355aa;\n  }\n  #info{\n    margin-left: .5rem;\n    font-weight: 700;\n  }\n\n  .loader,\n  .loader:before,\n  .loader:after {\n    border-radius: 50%;\n    width: 1rem;\n    height: 1rem;\n    -webkit-animation-fill-mode: both;\n    animation-fill-mode: both;\n    -webkit-animation: load7 1.8s infinite ease-in-out;\n    animation: load7 1.8s infinite ease-in-out;\n  }\n  .loader {\n    color: #ffffff;\n    position: relative; \n    margin-top: -5rem;\n    -webkit-animation-delay: -0.16s;\n    animation-delay: -0.16s;\n  }\n  .loader:before,\n  .loader:after {\n    content: '';\n    position: absolute;\n    top: 0;\n  }\n  .loader:before {\n    left: -2rem;\n    -webkit-animation-delay: -0.32s;\n    animation-delay: -0.32s;\n  }\n  .loader:after {\n    left: 2rem;\n  }\n  @-webkit-keyframes load7 {\n    0%,\n    80%,\n    100% {\n      box-shadow: 0 2.5rem 0 -1.3rem;\n    }\n    40% {\n      box-shadow: 0 2.5rem 0 0;\n    }\n  }\n  @keyframes load7 {\n    0%,\n    80%,\n    100% {\n      box-shadow: 0 2.5rem 0 -1.3rem;\n    }\n    40% {\n      box-shadow: 0 2.5rem 0 0;\n    }\n  }\n  @media only screen and (max-width: 500px){\n    #content h1{\n      margin-bottom: .2rem; \n      font-size: 1.7rem;\n    }\n    #button{\n      margin-top: 1.5rem;\n      width: 90%;\n      height: 2.5rem;\n      border-radius: 1.8rem;\n      font-size: 1rem;\n    }\n  }\n  @supports (-webkit-touch-callout: none){\n    #content input{\n      height: 3rem;\n      padding: .7rem .8rem;\n      font-size: 1rem;\n      font-weight: 500;\n    }\n    #button{\n      height: 3rem;\n    }\n  }\n"])),(function(n){return n.darkTheme?"eee":"222"})),pn=function(){var n="Sign In",e=Object(T.c)(E).theme;return Object(V.jsx)(jn,{darkTheme:e,children:Object(V.jsxs)("div",{id:"content",children:[Object(V.jsx)("h1",{children:n}),Object(V.jsx)(hn,{label:n.toUpperCase()})]})})},gn=t(34),On=G.b.div(u||(u=Object(Y.a)(["\n  margin: 15vh 3rem;\n  margin-bottom: 10vh;\n\n  h1{\n    text-align: center;\n    margin-bottom: 3rem;\n  }\n  #images{\n    display: flex;\n    flex-wrap: wrap;\n  }\n  #img-in-modal{\n    max-width: 90%;\n    max-height: 90%\n  }\n  #upload-img-btn{\n    width: 20%;\n    margin: 2rem 40%;\n    padding: .7rem;\n    font-weight: 700;\n    font-size: .9rem;\n    border: none;\n    color: #fff;\n    background-color: #3355ff;\n    border-radius: 2rem;\n  }\n  @media only screen and (max-width: 750px){\n    margin: 15vh 1rem;\n\n    h1{\n      margin-bottom: 1rem;\n      text-align: left;\n      margin-left: 1rem;\n      font-size: 1.5rem;\n    }\n    #upload-img-btn{\n      width: 80%;\n      margin: 1rem 10%;\n      padding: .7rem;\n    }\n  }\n"]))),xn=G.b.div(l||(l=Object(Y.a)(["\n  max-width: calc(50% - 2rem); max-height: 50vh;\n  margin: 1rem;\n  overflow: hidden;\n  position: relative;\n  \n  img{\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n  #image-controls{\n    position: absolute;\n    top: 0; left: 0;\n    height: 100%; width: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 2rem;\n    background-color: #",";\n    transition: opacity .7s;\n    opacity: 0;\n  }\n  #image-controls div{\n    margin: 1rem 10%;\n    position: relative;\n    cursor: pointer; \n  }\n  :hover #image-controls{\n    opacity: 1;\n  }\n  @media only screen and (max-width: 850px){   \n    max-width: 100%; max-height: 75vh;\n    margin: .5rem;\n\n    #image-controls{\n      font-size: 1.5rem;\n    }\n    #image-controls div{\n      margin: 1rem 15%;\n    }\n  }\n"])),(function(n){return n.darkTheme?"222222dd":"ffffffdd"})),vn=G.b.p(m||(m=Object(Y.a)(["\n  position: absolute;\n  ",": -2rem;\n  left: -3vw;\n  width: calc(6vw + 2rem);\n  text-align: center;\n  font-size: .8rem;\n  padding: .4rem;\n  border: solid 1px ",";\n  border-radius: .5rem;\n  transition: opacity .8s;\n  opacity: ",";\n  white-space: nowrap;\n\n  @media only screen and (max-width: 850px){   \n    display: none;\n  }\n"])),(function(n){return n.position}),(function(n){return n.borderColor||"#3377ff"}),(function(n){return n.visible?1:0})),wn=function(n){var e=n.src,t=Object(v.useState)(!1),r=Object(S.a)(t,2),o=r[0],i=r[1];return Object(V.jsxs)("div",{id:"copy-image-url",onClick:function(){var n=document.createElement("input");i(!0),document.body.appendChild(n),n.value=e,n.select(),document.execCommand("copy"),document.body.removeChild(n),setTimeout((function(){return i(!1)}),3e3)},children:["\ud83d\uddf3",Object(V.jsx)(vn,{visible:o,position:"top",borderColor:"#ff3355",id:"tooltip",children:"URL coppied"})]})},yn=function(n){var e=n.clickHandler,t=bn(),r=t.element,o=t.on;return Object(V.jsxs)("div",{id:"open-in-modal-btn",onClick:e,ref:r,children:["\ud83d\udd0d",Object(V.jsx)(vn,{position:"bottom",visible:o,id:"tooltip",children:"View in modal"})]})},kn=function(n){var e=n.clickHandler,t=bn(),r=t.element,o=t.on;return Object(V.jsxs)("div",{id:"delete-btn",onClick:e,ref:r,children:["\ud83d\uddd1",Object(V.jsx)(vn,{position:"bottom",visible:o,id:"tooltip",children:"Delete image"})]})},Tn=function(n){var e=n.src,t=n.onClickOnDelete,r=n.onClickInModal,o=Object(T.c)(E).theme;return Object(V.jsxs)(xn,{darkTheme:o,children:[Object(V.jsx)("img",{src:e,alt:"Your pic from aws S3"}),Object(V.jsxs)("div",{id:"image-controls",children:[Object(V.jsx)(kn,{clickHandler:t}),Object(V.jsx)(yn,{clickHandler:r}),Object(V.jsx)(wn,{src:e})]})]})},Cn=G.b.div(b||(b=Object(Y.a)(["\n  z-index: 5;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  backdrop-filter: blur(25px);\n\n  #centred{\n    width: 100%; height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n"]))),Sn=Object(v.createContext)((function(){})),En=G.b.div(f||(f=Object(Y.a)(["\n  position: absolute;\n  top: 1rem;\n  right: .3rem;\n  padding: .8rem;\n  transition: transform .5s;\n\n  div{\n    width: 2rem;\n    height: .2rem;\n    background-color: #888;\n    border-radius: .3rem;\n  }\n  #upper{\n    margin-bottom: -.2rem;\n    transform: rotate(45deg);\n  }\n  #lower{\n    transform: rotate(-45deg);\n  }\n  :hover{\n    transform: rotate(90deg);\n  }\n"]))),zn=function(){return Object(V.jsx)(Sn.Consumer,{children:function(n){return Object(V.jsxs)(En,{onClick:function(){return n()},children:[Object(V.jsx)("div",{id:"upper"}),Object(V.jsx)("div",{id:"lower"})]})}})},Un=function(n){var e=n.children,t=Object(T.c)(E).theme;return Object(v.useEffect)((function(){return document.body.style.overflow="hidden",function(){document.body.style.overflow="unset"}}),[]),Object(V.jsxs)(Cn,{darkTheme:t,children:[Object(V.jsx)("div",{id:"centred",children:e}),Object(V.jsx)(zn,{})]})},Mn=w.a.memo(Un),Nn=G.b.div(h||(h=Object(Y.a)(["\n  position: fixed;\n  top: 0;\n  left: ",'vw;\n  width: 100vw;\n  height: 100vh;\n  z-index: 10;\n  backdrop-filter: blur(20px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  .lds-hourglass {\n    display: inline-block;\n    position: relative;\n    width: 30vh;\n    height: 30vh;\n    margin-left: 2%;\n  }\n  .lds-hourglass:after {\n    content: " ";\n    display: block;\n    border-radius: 50%;\n    width: 0;\n    height: 0;\n    box-sizing: border-box;\n    border: 12vh solid #3355ff;\n    border-color: #3355ff transparent #3355ff transparent;\n    animation: lds-hourglass 2s infinite;\n  }\n  @keyframes lds-hourglass {\n    0% {\n      transform: rotate(0);\n      animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);\n    }\n    50% {\n      transform: rotate(900deg);\n      animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n    }\n    100% {\n      transform: rotate(1800deg);\n    }\n  }\n'])),(function(n){return n._loading?0:-100})),Ln=function(){var n=Object(T.c)(E).loading;return Object(v.useEffect)((function(){document.body.style.overflow=n?"hidden":"unset"}),[n]),Object(V.jsx)(Nn,{_loading:n,children:Object(V.jsx)("div",{className:"lds-hourglass"})})},In=G.b.div(j||(j=Object(Y.a)(["\n  width: 50%;\n  overflow: scroll;\n\n  label{\n    padding: .7rem;\n    margin-bottom: .5rem;\n    width: 30%;\n    text-align: center;\n  }\n  #file-picker{\n    display: none;\n  }\n  #input-field{\n    width: 100%;\n    padding: .5rem;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n  #image-preview{\n    max-width: 100%;\n    max-height: 50%;\n  }\n  #remove-file{\n    font-size: 2rem;\n    margin-top: 1rem;\n  }\n  button{\n    padding: 1rem;\n    width: 50%;\n    margin: 1.5rem 25%;\n  }\n  @media only screen and (max-width: 1000px){\n    width: 90%;\n    label, button{\n      padding: .6rem;\n    }\n    button{\n      width: 70%;\n      margin: 1.5rem 15%;\n    }\n  }\n"]))),Pn=function(n){var e=n.onSuccess,t=Object(T.c)(E).theme,r=Object(T.b)(),o=Object(v.useState)(""),i=Object(S.a)(o,2),c=i[0],a=i[1],s=Object(v.useState)(""),d=Object(S.a)(s,2),u=d[0],l=d[1],m=Object(v.useState)(null),b=Object(S.a)(m,2),f=b[0],h=b[1],j=Object(v.useContext)(Sn),p=Object(v.useRef)(null),g=Object(v.useRef)("");return Object(V.jsxs)(In,{children:[Object(V.jsxs)("div",{id:"input-field",children:[Object(V.jsx)("label",{htmlFor:"file-picker",children:"Pick an image"}),Object(V.jsx)("input",{type:"file",id:"file-picker",accept:"image/png, image/jpg, image/jpeg",ref:p,multiple:!1,onChange:function(n){n.target.files&&(l(n.target.files[0].name),a(URL.createObjectURL(n.target.files[0])),h(n.target.files[0]))}}),f&&Object(V.jsx)("div",{id:"remove-file",onClick:function(){h(null),a(""),l(""),p.current&&(p.current.value="")},children:t?"\ud83d\ude45\ud83c\udffc\u200d\u2642\ufe0f":"\ud83d\ude45\ud83c\udfff\u200d\u2642\ufe0f"})]}),c.length>0&&Object(V.jsx)("img",{id:"image-preview",src:c,alt:u}),f&&Object(V.jsx)("button",{onClick:function(n){n.preventDefault(),r(A(!0)),fetch("/images/get_presigned_url",{method:"PUT",body:JSON.stringify({name:u}),headers:{"Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(n){if(n.error)throw new Error(n.error);if(!n.url)throw new Error("Url not found");return n.url})).then((function(n){if(f)return g.current=n,fetch(n,{method:"PUT",body:f,headers:{"Content-Type":f.type}});throw new Error("File not found")})).then((function(n){if(!n.ok)throw new Error("Goaty refused")})).then((function(){e(g.current.split("?")[0])})).catch((function(n){return r(H(n.message))})).finally((function(){r(A(!1)),j()}))},children:"Upload"})]})},Rn=w.a.memo(Pn),_n=function(){var n=Object(T.b)(),e=Object(v.useState)([]),t=Object(S.a)(e,2),r=t[0],o=t[1],i=Object(v.useState)(null),c=Object(S.a)(i,2),a=c[0],s=c[1],d=Object(v.useState)(!1),u=Object(S.a)(d,2),l=u[0],m=u[1];Object(v.useEffect)((function(){n(A(!0)),fetch("/images/list",{method:"PUT"}).then((function(n){return n.json()})).then((function(n){if(n.error)throw new Error(n.error);n.images&&o(n.images)})).catch((function(e){return n(H(e.message))})).finally((function(){return setTimeout((function(){return n(A(!1))}),2e3)}))}),[n]);var b=Object(v.useCallback)((function(e){var t=e.split("/images/");t.length>1&&(n(A(!0)),fetch("/images/delete_image/".concat(t[t.length-1]),{method:"DELETE"}).then((function(n){return n.json()})).then((function(n){if(console.log(n),n.error)throw new Error(n.error);n.deleted&&o(r.filter((function(n){return n!==e})))})).catch((function(e){return n(H(e.message))})).finally((function(){return n(A(!1))})))}),[r,n]),f=Object(v.useMemo)((function(){return r.length>0?r.map((function(n,e){return Object(V.jsx)(Tn,{src:n,onClickOnDelete:function(){return b(n)},onClickInModal:function(){return s(n)}},n+e)})):null}),[r,b]);return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(On,{children:[Object(V.jsx)("h1",{children:0===r.length?"There are no images in your S3 bucket":"Images in your S3 bucket"}),Object(V.jsx)("div",{id:"images",children:f}),Object(V.jsx)("button",{id:"upload-img-btn",onClick:function(){return m(!0)},children:"Upload image"}),a&&Object(V.jsx)(Sn.Provider,{value:function(){return s(null)},children:Object(V.jsx)(Mn,{children:Object(V.jsx)("img",{id:"img-in-modal",src:a,alt:"One of your pics from aws S3"})})}),l&&Object(V.jsx)(Sn.Provider,{value:function(){return m(!1)},children:Object(V.jsx)(Mn,{children:Object(V.jsx)(Rn,{onSuccess:function(n){return o([].concat(Object(gn.a)(r),[n]))}})})})]}),Object(V.jsx)(Ln,{})]})},Dn=G.b.div(p||(p=Object(Y.a)(["\n\n"]))),Hn=function(){var n=Object(T.c)(E).theme;return Object(V.jsx)(Dn,{darkTheme:n})},An=G.b.div(g||(g=Object(Y.a)(["\n  display: flex;\n  flex-wrap: wrap;\n\n  div{\n    width: 50%;\n    height: 100vh;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: background-color 1s;\n  }\n  div:hover{\n    background-color: #888;\n  }\n  @media only screen and (max-width: 1000px){\n    h2{\n      font-size: 1.3rem;\n    }\n  }\n  @media only screen and (max-width: 700px){\n    div{\n      width: 100%;\n    }\n  }\n"]))),Fn=G.b.form(O||(O=Object(Y.a)(["\n  width: 30%;\n  p{\n    margin-top: 1.5rem;\n    margin-bottom: .5rem;\n    margin-left: .9rem;\n    color: #",";\n    font-weight: 500;\n    letter-spacing: .03rem;\n  }\n  input{\n    height: 2.8rem; width: 100%;\n    border: none;\n    background-color: #",";\n    padding: .5rem 1.3rem;\n    border-radius: 1.8rem;\n    font-size: 1.1rem;\n    transition: box-shadow .3s;\n    color: #",";\n  }\n  button{\n    margin-top: 1.8rem;\n    width: 100%;\n    height: 2.8rem;\n  }\n"])),(function(n){return n.darkTheme?"bbb":"555"}),(function(n){return n.darkTheme?"252525":"f5f5f5"}),(function(n){return n.darkTheme?"ddd":"333"})),Yn=function(){var n=Object(T.c)(E).theme,e=Object(v.useContext)(Sn),t=Object(T.b)(),r=Object(v.useState)(""),o=Object(S.a)(r,2),i=o[0],c=o[1],a=Object(v.useState)(""),s=Object(S.a)(a,2),d=s[0],u=s[1],l=Object(v.useState)(""),m=Object(S.a)(l,2),b=m[0],f=m[1];return Object(V.jsxs)(Fn,{darkTheme:n,children:[Object(V.jsx)("p",{children:"Your old password"}),Object(V.jsx)(un,{onChange:function(n){return c(n)}}),Object(V.jsx)("p",{children:"Your old password again"}),Object(V.jsx)(un,{onChange:function(n){return u(n)}}),Object(V.jsx)("p",{children:"Your new password"}),Object(V.jsx)(un,{onChange:function(n){return f(n)}}),Object(V.jsx)("button",{onClick:function(n){return n.preventDefault(),0===i.length||0===d.length||0===b.length?t(H("Fill all fields")):i!==d?t(H("Passwords should match")):i.length<5||d.length<5||b.length<5?t(H("Passwords too short")):(t(A(!0)),void fetch("/edit/password",{method:"PUT",body:JSON.stringify({pw:i,pw_repeat:d,new_pw:b}),headers:{"content-type":"application/json"}}).then((function(n){return n.json()})).then((function(n){if(n.error)return t(H(n.error))})).catch((function(n){return t(H(n.message||"Error occured"))})).finally((function(){t(A(!1)),e()})))},children:"Submit"})]})},Gn=function(){var n=Object(T.c)(E).theme,e=Object(T.c)(z).username,t=Object(T.b)(),r=Object(v.useContext)(Sn),o=Object(v.useState)(""),i=Object(S.a)(o,2),c=i[0],a=i[1],s=Object(v.useState)(""),d=Object(S.a)(s,2),u=d[0],l=d[1];return Object(V.jsxs)(Fn,{darkTheme:n,children:[Object(V.jsx)("p",{children:"Your current username"}),Object(V.jsx)("input",{type:"text",onChange:function(n){return a(n.target.value)}}),Object(V.jsx)("p",{children:"Your new username"}),Object(V.jsx)("input",{type:"text",onChange:function(n){return l(n.target.value)}}),Object(V.jsx)("button",{onClick:function(n){return n.preventDefault(),0===c.length||0===u.length?t(H("Fill all of the fields")):c.length<4||u.length<4?t(H("Username must be at least 4 characters")):e!==c?t(H("Wrong current username")):(t(A(!0)),void fetch("/edit/username",{method:"PUT",body:JSON.stringify({username:u,old_username:c}),headers:{"content-type":"application/json"}}).then((function(n){return n.json()})).then((function(n){if(n.error)return t(H(n.error));t(_({username:n.username}))})).catch((function(n){return t(H(n.message||"Error occured"))})).finally((function(){t(A(!1)),r()})))},children:"Submit"})]})},Jn=function(){var n=Object(v.useState)(!1),e=Object(S.a)(n,2),t=e[0],r=e[1],o=Object(v.useState)(!1),i=Object(S.a)(o,2),c=i[0],a=i[1];return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(An,{children:[Object(V.jsx)("div",{onClick:function(){return a(!0)},children:Object(V.jsx)("h2",{children:"Set new password"})}),Object(V.jsx)("div",{onClick:function(){return r(!0)},children:Object(V.jsx)("h2",{children:"Set new username"})})]}),t&&Object(V.jsx)(Sn.Provider,{value:function(){return r(!1)},children:Object(V.jsx)(Mn,{children:Object(V.jsx)(Gn,{})})}),c&&Object(V.jsx)(Sn.Provider,{value:function(){return a(!1)},children:Object(V.jsx)(Mn,{children:Object(V.jsx)(Yn,{})})}),Object(V.jsx)(Ln,{})]})},Zn=function(){return Object(V.jsxs)(Z.a,{children:[Object(V.jsx)($,{}),Object(V.jsx)(cn,{}),Object(V.jsxs)(C.d,{children:[Object(V.jsx)(q,{exact:!0,path:"/login",component:pn}),Object(V.jsx)(q,{exact:!0,path:"/pictures",privateRoute:!0,component:_n}),Object(V.jsx)(q,{exact:!0,path:"/content",privateRoute:!0,component:Hn}),Object(V.jsx)(q,{exact:!0,path:"/credentials",privateRoute:!0,component:Jn})]})]})},Bn=G.b.div(x||(x=Object(Y.a)(["\n  position: fixed;\n  top: 0; left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 6;\n  backdrop-filter: blur(20px);\n\n  #inner-container{\n    width: 40%;\n    height: 50%;\n    background-color: rgba(255, 50, 50, .2);\n    transition: opacity .5s;\n    opacity: 1;\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-radius: 1rem;\n  }\n  #close-error-log{\n    position: absolute;\n    top: .7rem; right: 0;\n    padding: 1rem;\n  }\n  #close-error-log-cross{\n    width: 25px; height: 1px;\n    transform: rotateZ(45deg);\n  }\n  #close-error-log-cross::after{\n    content: \"\";\n    position: absolute;\n    width: 25px; height: 1px;\n    transform: rotateZ(-90deg);\n  }\n  h5{\n    font-family: 'Noto Sans TC', Arial, Helvetica, sans-serif;\n    font-size: 1rem;\n    color: #888;\n  }\n  @media only screen and (max-width: 1000px){\n    #inner-container{\n      width: 80%;\n      height: 60%;\n    }\n  }\n"]))),Wn=function(n){var e=n.error,t=Object(T.b)();Object(v.useEffect)((function(){return window.scrollTo(0,0),document.body.style.overflow="hidden",setTimeout((function(){t(H(void 0)),document.body.style.overflow="unset"}),5e3),function(){document.body.style.overflow="unset"}})),Object(v.useEffect)((function(){return document.addEventListener("keydown",(function(n){return r(n)})),function(){document.removeEventListener("keydown",(function(n){return r(n)}))}}));var r=function(n){27===n.keyCode&&t(H(void 0))};return Object(V.jsx)(Bn,{children:Object(V.jsxs)("div",{id:"inner-container",children:[Object(V.jsx)("div",{id:"close-error-log",onClick:function(){return t(H(void 0))},children:Object(V.jsx)("div",{id:"close-error-log-cross"})}),Object(V.jsx)("h5",{children:e})]})})},Vn=w.a.memo(Wn),qn=function(){var n=Object(T.c)(E),e=n.theme,t=n.error,r=Object(v.useState)(!0),o=Object(S.a)(r,2),i=o[0],c=o[1],a=Object(T.b)();Object(v.useEffect)((function(){return window.addEventListener("storage",s),function(){window.removeEventListener("storage",s)}})),Object(v.useEffect)((function(){fetch("/auth/whoami").then((function(n){return n.json()})).then((function(n){n.username&&a(_({username:n.username}))})).catch((function(n){return H(n.message)})).finally((function(){return c(!1)}))}),[a]);var s=function(n){!n.key&&d()},d=function(){window.localStorage.setItem("theme","false"),a(function(n){return{type:L,theme:n}}(!1)),a(D())};return Object(V.jsxs)("div",{children:[Object(V.jsx)(J,{darkTheme:e}),t&&Object(V.jsx)(Vn,{error:t}),!i&&Object(V.jsx)(Zn,{})]})},Kn=t(18),Qn={error:void 0,loading:!1,menuOpened:!1,theme:"true"===window.localStorage.getItem("theme")},Xn={username:void 0,loggedIn:!1},$n=Object(Kn.b)({app:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case I:return Object(B.a)(Object(B.a)({},n),{},{error:e.error});case P:return Object(B.a)(Object(B.a)({},n),{},{loading:e.loading});case R:return Object(B.a)(Object(B.a)({},n),{},{menuOpened:e.opened});case L:return Object(B.a)(Object(B.a)({},n),{},{theme:e.theme});case N:return Object(B.a)(Object(B.a)({},n),{},{theme:!n.theme});default:return n}},auth:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case M:return Object(B.a)(Object(B.a)({},n),{},{loggedIn:!0,username:e.payload.username});case U:return Object(B.a)(Object(B.a)({},n),{},{loggedIn:!1,username:void 0});default:return n}}}),ne=Object(Kn.c)($n),ee=t(10),te=Object(ee.a)();k.a.render(Object(V.jsx)(w.a.StrictMode,{children:Object(V.jsx)(C.c,{history:te,children:Object(V.jsx)(T.a,{store:ne,children:Object(V.jsx)(qn,{})})})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.d52adc03.chunk.js.map