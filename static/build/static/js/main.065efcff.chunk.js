(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{45:function(n,e,t){"use strict";t.r(e);var r,o,i,c,a,s,d,u,l,b,m,h,f,j=t(0),p=t.n(j),O=t(18),g=t.n(O),x=t(2),v=t(8),w=t(3),k=function(n){return n.app},y=function(n){return n.auth},T="LOGOUT",E="LOGIN",C="TOGGLE_THEME",S="SET_DEFAULT_THEME",z="SET_ERROR",M="SET_LOADING",I="OPEN_CLOSE_MENU",N=function(n){return{type:E,payload:n}},L=function(){return{type:T}},U=function(n){return{type:z,error:n}},A=function(n){return{type:M,loading:n}},D=function(n){return{type:I,opened:n}},_=t(5),H=t(6),R=Object(H.a)(r||(r=Object(_.a)(["\n  ::-webkit-scrollbar { \n    display: none; \n  }\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    font-family: 'Montserrat', sans-serif;\n    font-weight: 200;\n    \n  }\n  .no-select{\n    user-select: none; \n    -moz-user-select: none;\n    -webkit-user-drag: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n  }\n  body {\n    transition: background-color .2s;\n    overflow-x: hidden;\n    background-color: ",";\n    position: relative;\n    min-height: 100vh;\n  }\n  a{\n    text-decoration: none;\n  }\n"])),(function(n){return n.darkTheme?"#111":"#fefefe"})),G=t(13),P=t(7),B=t(32),F=t(1),J=function(n){var e=n.component,t=n.redirectTo,r=n.privateRoute,o=Object(B.a)(n,["component","redirectTo","privateRoute"]),i=Object(x.c)(y).loggedIn;return void 0===r&&(r=!1),Object(F.jsx)(v.b,Object(P.a)({render:function(n){return i===r?Object(F.jsx)(e,Object(P.a)({},n)):Object(F.jsx)(v.a,{to:t||"/"})}},o))},Y=function(){var n=Object(x.c)(k).menuOpened,e=Object(x.b)();return Object(F.jsxs)("div",{id:"Menu",className:n?"closed":"opened",onClick:function(){return e(D(!n))},children:[Object(F.jsx)("div",{id:"top"}),Object(F.jsx)("div",{id:"middle"}),Object(F.jsx)("div",{id:"bottom"})]})},Z=function(){var n=Object(x.c)(y).loggedIn,e=Object(x.b)(),t=Object(v.g)();return n?Object(F.jsx)("div",{className:"menu-link",onClick:function(){e(L()),t.push("/login")},id:"auth-ctx",children:"LOG OUT"}):null},W=H.b.nav(o||(o=Object(_.a)(["\n  width: 100vw;\n  transition: background-color .2s;\n  background-color: ",";\n  display: flex;\n  justify-content: space-between;\n  position: relative;\n\n  #Menu{\n    width: 1.3rem;\n    margin-top: 1.25rem;\n    margin-right: .75rem;\n    padding: 1rem;\n    position: fixed;\n    right: 0; \n    top: 0;\n    z-index: 5; \n  } \n  #auth-ctx{\n    right: 4rem;\n    padding: 1rem;\n    position: fixed;\n    right: 3.05; top: 0;\n    color: ",";\n    font-weight: 600; \n    font-size: .85rem; \n    font-family: 'Open Sans', Arial, Helvetica, sans-serif;\n    letter-spacing: .03rem;\n    z-index: 2; \n  }\n  #Menu div{\n    width: 1.1rem;\n    height: 2px;\n    background-color: ","; \n  }\n  #top, #middle, #bottom{\n    position: absolute;\n    transition: all .3s; \n  }\n  #top{\n    left: 0; top: 0;\n  }\n  #middle{\n    left: 0; top: .3rem;\n  }\n  #bottom{\n    left: 0; top: .6rem;\n  }\n  .opened > #middle{\n    opacity: 1; \n    width: 1.1rem;\n    margin-left: 0;\n  } \n  .closed > #middle{\n    opacity: 0;\n    width: 0;\n    margin-left: 50%; \n  }\n  .closed > #bottom,\n  .closed > #top{\n    top: .3rem;\n    background-color: #888;  \n  }\n  .closed > #top{\n    transform: rotate(45deg);\n  }\n  .closed > #bottom{\n    transform: rotate(-45deg);\n  }\n  @media only screen and (max-width: 1000px){\n    #auth-ctx{\n      display: none;\n    }\n  }\n"])),(function(n){return n.darkTheme?"#111":"#fff"}),(function(n){return n.darkTheme?"#eee":"#111"}),(function(n){return n.darkTheme?"#fff":"#333"})),q=function(){var n=Object(x.c)(k),e=n.menuOpened,t=n.theme,r=Object(x.c)(y).loggedIn;return Object(F.jsxs)(W,{darkTheme:t,opened:e,children:[Object(F.jsx)(Z,{}),r&&Object(F.jsx)(Y,{})]})},K=H.b.div(i||(i=Object(_.a)(["\n  #tab{\n    height: 100vh;\n    width: 312px;\n    max-width: 85%;\n    position: fixed;\n    transition: right .5s;\n    top: 0;\n    right: ",";\n    background-color: ",";\n    z-index: 3;\n  }\n  \n  #shadow{\n    height: 100vh;\n    width: 100vw;\n    position: fixed;\n    top: 0;\n    backdrop-filter: blur(",");\n    left: ",";\n    z-index: 2;\n  }\n"])),(function(n){return n.opened?"0":"-320px"}),(function(n){return n.darkTheme?"#111":"#fff"}),(function(n){return n.opened?"25px":"10px"}),(function(n){return n.opened?"0":"-100vw"})),Q=H.b.div(c||(c=Object(_.a)(["\n  position: relative;\n  margin-top: 2rem;\n  height: calc(100vh - 3.5rem);\n  width: 100%;\n  padding: 1rem;\n  overflow: hidden;\n\n  #inner-container{\n    position: absolute;\n    margin: 0 .5rem;\n    height: calc(100% - 1rem); width: calc(100% - 1rem);\n    left: 0; top: ",";\n    transition: top .5s ease-out;\n    overflow-y: auto;\n  }\n  .menu-link{\n    display: block;\n    padding: 1.19rem .8rem;\n    margin: 0 .9rem;\n    color: ",";\n    font-weight: 500;\n    font-size: .85rem;\n    letter-spacing: .03rem;\n    font-family: 'Open Sans', Arial, Helvetica, sans-serif;\n    border-bottom: solid 1px ",";\n  }\n  #auth-ctx{\n    display: none;\n  }\n  @media only screen and (max-width: 1000px){\n    #auth-ctx{\n      display: block;\n    }\n  }\n"])),(function(n){return n.rollDown?"0":"-100rem"}),(function(n){return n.darkTheme?"#eee":"#111"}),(function(n){return n.darkTheme?"rgba(222,222,222,0.25)":"rgba(0,0,0,0.25)"})),V=["content","pictures"],X=function(){var n=Object(x.c)(k).theme,e=Object(x.b)(),t=function(){var e="";return e+=n?"bright":"dark",(e+=" ").toUpperCase()},r=function(){var n;e({type:C}),n="theme",window.localStorage.setItem(n,"true"===window.localStorage.getItem(n)?"false":"true")};return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("span",{className:"menu-link no-select",onClick:r,children:t()}),Object(F.jsx)(Z,{})]})},$=function(){var n=Object(x.c)(k),e=n.menuOpened,t=n.theme,r=Object(x.b)(),o=Object(j.useState)(!1),i=Object(w.a)(o,2),c=i[0],a=i[1];Object(j.useEffect)((function(){e?setTimeout((function(){return a(!0)}),150):a(!1)}),[e]);var s;return Object(F.jsx)(Q,{rollDown:c,darkTheme:t,children:Object(F.jsxs)("div",{id:"inner-container",children:[(s=V,Object(F.jsx)(F.Fragment,{children:s.map((function(n){return Object(F.jsx)(G.b,{to:n.startsWith("/")?n:"/".concat(n.trim()),className:"menu-link",onClick:function(){return r(D(!1))},activeStyle:{color:"#888"},children:n.toUpperCase()},n)}))})),Object(F.jsx)(X,{})]})})},nn=function(){var n=Object(x.c)(k),e=n.menuOpened,t=n.theme;return Object(j.useEffect)((function(){document.body.style.overflow=e?"hidden":"unset"}),[e]),Object(F.jsxs)(K,{opened:e,darkTheme:t,children:[Object(F.jsx)("div",{id:"tab",children:Object(F.jsx)($,{})}),Object(F.jsx)("div",{id:"shadow"})]})},en=H.b.div(a||(a=Object(_.a)(["\n  position: absolute;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 6;\n  backdrop-filter:  ",";;\n\n  #inner-container{\n    width: 40%;\n    height: 50%;\n    background-color: rgba(255, 50, 50, .2);\n    transition: opacity .5s;\n    opacity: ",";\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-radius: 1rem;\n  }\n  #close-error-log{\n    position: absolute;\n    top: .7rem; right: 0;\n    padding: 1rem;\n  }\n  #close-error-log-cross{\n    width: 25px; height: 1px;\n    background-color: #",';\n    transform: rotateZ(45deg);\n  }\n  #close-error-log-cross::after{\n    content: "";\n    position: absolute;\n    width: 25px; height: 1px;\n    background-color: #',";\n    transform: rotateZ(-90deg);\n  }\n  h5{\n    font-family: 'Noto Sans TC', Arial, Helvetica, sans-serif;\n    font-size: 1rem;\n    color: #888;\n  }\n  @media only screen and (max-width: 1000px){\n    #inner-container{\n      width: 80%;\n      height: 60%;\n    }\n  }\n"])),(function(n){return n.mounted?"blur(20px)":""}),(function(n){return n.mounted?"1":"0"}),(function(n){return n.darkTheme?"eee":"333"}),(function(n){return n.darkTheme?"eee":"333"})),tn=function(){var n=Object(x.b)(),e=Object(x.c)(k),t=e.error,r=e.theme,o=Object(j.useState)(!1),i=Object(w.a)(o,2),c=i[0],a=i[1],s=Object(j.useState)(!1),d=Object(w.a)(s,2),u=d[0],l=d[1];Object(j.useEffect)((function(){var n=Boolean(t);l(n),c?setTimeout((function(){return a(n)}),500):a(n)}),[t,c,l,a]),Object(j.useEffect)((function(){t&&setTimeout((function(){return n(U(void 0))}),5e3)})),Object(j.useEffect)((function(){return document.addEventListener("keydown",(function(n){return b(n)})),function(){document.removeEventListener("keydown",(function(n){return b(n)}))}}));var b=function(e){27===e.keyCode&&(n(U(void 0)),l(!1),setTimeout((function(){return a(!1)}),500))};return c?Object(F.jsx)(en,{darkTheme:r,mounted:u,children:Object(F.jsxs)("div",{id:"inner-container",children:[Object(F.jsx)("div",{id:"close-error-log",onClick:function(){return n(U(void 0))},children:Object(F.jsx)("div",{id:"close-error-log-cross"})}),Object(F.jsx)("h5",{children:t})]})}):null},rn=t(19),on=function(n){return Object(F.jsx)("div",Object(P.a)(Object(P.a)({},n),{},{children:Object(F.jsx)("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24pt",height:"24pt",viewBox:"0 0 265.000000 254.000000",preserveAspectRatio:"xMidYMid meet",children:Object(F.jsxs)("g",{transform:"translate(0.000000,254.000000) scale(0.100000,-0.100000)",stroke:"none",children:[Object(F.jsx)("path",{d:"M1090 1844 c-190 -40 -376 -148 -540 -313 -137 -137 -173 -218 -135 -307 35 -84 164 -221 299 -316 405 -285 856 -247 1244 107 72 65 146 159 167 209 38 89 2 170 -135 307 -167 167 -349 272 -546 314 -86 18 -268 18 -354 -1z m352 -153 c184 -47 414 -202 513 -345 l38 -56 -28 -42 c-36 -56 -139 -155 -218 -211 -265 -189 -544 -219 -808 -86 -148 74 -298 196 -364 297 l-28 42 38 56 c97 141 327 297 509 344 98 26 249 26 348 1z"}),Object(F.jsx)("path",{d:"M1173 1626 c-103 -34 -176 -98 -222 -196 -22 -46 -26 -69 -26 -140 0 -76 4 -93 33 -152 38 -77 92 -130 171 -167 47 -22 70 -26 141 -26 71 0 94 4 141 26 79 37 133 90 171 167 29 59 33 76 33 152 0 71 -4 94 -26 141 -58 124 -169 199 -302 205 -43 3 -89 -2 -114 -10z m173 -260 c28 -28 34 -42 34 -76 0 -34 -6 -48 -34 -76 -28 -28 -42 -34 -76 -34 -34 0 -48 6 -76 34 -28 28 -34 42 -34 76 0 34 6 48 34 76 28 28 42 34 76 34 34 0 48 -6 76 -34z"})]})})}))},cn=H.b.div(s||(s=Object(_.a)(["\n  position: relative;\n  height: 2.8rem;\n\n  input{\n    position: absolute;\n    top: 0; left: 0;\n  } \n  #eye{\n    top: calc(50% - .95rem); right: 3rem;\n    position: absolute;\n  }\n  #eye svg{\n    height: 1.9rem; width: 1.9rem;\n  }\n  #eye g{\n    fill: ",';\n  } \n  #eye::after{\n    content: "";\n    position: absolute;\n    bottom: 53%; right: 10%;\n    width: 1.6rem;\n    transform: rotateZ(-45deg);\n    height: 2px;\n    background-color: ',";\n    border-radius: .1rem;\n    transition: opacity .3s;\n    opacity: ",";\n  }\n  @supports (-webkit-touch-callout: none){\n    #eye{\n      top: calc(50% - .8rem); right: 2.5rem;\n    }\n  }\n"])),(function(n){return n.darkTheme?"#eee":"#222"}),(function(n){return n.darkTheme?"#eee":"#222"}),(function(n){return n.visible?"1":"0"})),an=function(n){var e=n.onChange,t=Object(j.useState)(!1),r=Object(w.a)(t,2),o=r[0],i=r[1],c=Object(j.useState)(""),a=Object(w.a)(c,2),s=a[0],d=a[1],u=Object(j.useRef)(null),l=Object(x.c)(k).theme;Object(j.useEffect)((function(){u.current&&0===s.length&&(u.current.type="password")}),[s]);return Object(F.jsxs)(cn,{visible:o,darkTheme:l,children:[Object(F.jsx)("input",{ref:u,type:"password",onChange:function(n){var t=n.target.value;t.trim(),d(t),e(t)}}),s.length>0&&Object(F.jsx)(on,{id:"eye",onClick:function(){i(!o),null!==u.current&&(u.current.type=o?"password":"text",u.current.focus())}})]})},sn=H.b.p(d||(d=Object(_.a)(["\n  position: absolute;\n  left: 9%; top: calc(3.4rem + 20%);\n  width: 70%;\n  padding: 1rem;\n  background-color: #",";\n  box-shadow: ",";\n  line-height: 1.4rem;\n  border-radius: .5rem; \n  font-weight: 400;\n  transition: opacity .05s;\n  z-index: ",";\n  opacity: ",";\n  @media only screen and (max-width: 1000px){\n    top: 7.5rem;\n    left: 0;\n    width: 90%;\n  }\n  @media only screen and (max-width: 500px){\n    top: 5.5rem;\n    left: 0;\n    width: 90%;\n  }\n"])),(function(n){return n.darkTheme?"111":"fff"}),(function(n){return n.darkTheme?"0 4px 16px rgb(255 255 255 / 10%)":"0 4px 16px rgb(0 0 0 / 10%)"}),(function(n){return n.visible?"2":"-1"}),(function(n){return n.opacite?"1":"0"})),dn=function(n){var e=n.visible,t=Object(x.c)(k).theme,r=Object(j.useState)(!1),o=Object(w.a)(r,2),i=o[0],c=o[1],a=Object(j.useState)(!1),s=Object(w.a)(a,2),d=s[0],u=s[1];return Object(j.useEffect)((function(){c(e),e?u(!0):setTimeout((function(){return u(!1)}),50)}),[e]),Object(F.jsx)(sn,{opacite:i,darkTheme:t,visible:d,children:"To login for being able to edit content of this webpage, you have to enter your username, and password"})},un=(t(31),function(){return Object(F.jsx)("div",{className:"loader"})}),ln=function(n){var e=n.label,t=Object(x.b)(),r=Object(v.g)(),o=Object(j.useState)(""),i=Object(w.a)(o,2),c=i[0],a=i[1],s=Object(j.useState)(""),d=Object(w.a)(s,2),u=d[0],l=d[1],b=Object(j.useState)(!1),m=Object(w.a)(b,2),h=m[0],f=m[1],p=function(n){var e=n.label,t=n.onClick,r=n.component,o=n.id,i=Object(x.c)(k).loading,c=Object(j.useState)(e),a=Object(w.a)(c,2),s=a[0],d=a[1];return Object(j.useEffect)((function(){d(i?r:e)}),[i,e,r]),[Object(F.jsx)("div",{id:o,onClick:t,className:"no-select",children:s})]}({component:un,label:e.toUpperCase(),onClick:function(n){return n.preventDefault(),c.length<4?t(U("Username is to short")):u.length<5?t(U("Password does not seem to match")):(t(A(!0)),void fetch("/auth/login",{method:"PUT",body:JSON.stringify({username:c,password:u}),headers:{"content-type":"application/json"}}).then((function(n){return n.json()})).then((function(n){if(n.error)return t(U(n.error));if(!n.token)throw Error("Token not found");t(N({username:c})),r.push("/")})).catch((function(n){return t(U(n.message))})).finally((function(){return t(A(!1))})))},id:"button"}),O=Object(w.a)(p,1)[0];return Object(F.jsxs)("form",{children:[Object(F.jsxs)("p",{className:"no-select",children:["Your Username",Object(F.jsx)("span",{id:"info",onClick:function(){rn.isMobile&&f(!h)},onMouseEnter:function(){rn.isMobile||f(!0)},onMouseLeave:function(){rn.isMobile||f(!1)},children:"\u24d8"})]}),Object(F.jsx)(dn,{visible:h}),Object(F.jsx)("input",{type:"text",onChange:function(n){return a(n.target.value)}}),Object(F.jsx)("p",{className:"no-select",children:"Password"}),Object(F.jsx)(an,{onChange:function(n){return l(n)}}),O]})},bn=H.b.div(u||(u=Object(_.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  position: relative;\n\n  #content{\n    height: 70%;\n    width: 40%;\n    padding: 5%;\n    position: relative;\n  }\n  #content h1{\n    margin-bottom: .6rem;\n    font-size: 2.5rem;\n    font-family: 'Noto Sans TC', Arial, Helvetica, sans-serif;\n    color: #",";\n  }\n  h5{\n    color: #ff5533;\n    font-size: 1rem;\n    font-weight: 500;\n  }\n  #content p{\n    margin-top: 1.5rem;\n    margin-bottom: .5rem;\n    margin-left: .9rem;\n    color: #",";\n    font-weight: 500;\n    letter-spacing: .03rem;\n  }\n  #content input{\n    width: 90%;\n    height: 2.8rem;\n    border: none;\n    background-color: #",";\n    padding: .5rem 1.3rem;\n    border-radius: 1.8rem;\n    font-size: 1.1rem;\n    transition: box-shadow .3s;\n    color: #",";\n  }\n  #button{\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-top: 1.8rem;\n    width: 90%;\n    height: 2.8rem;\n    border-radius: 1.8rem;\n    font-size: 1.1rem;\n    border: none;\n    background-color: #3355ee;\n    font-size: .9rem;\n    font-family: 'Noto Sans TC', Arial, Helvetica, sans-serif;\n    color: #eee;  \n    transition: background-color .5s;\n  }\n  #content input:focus{\n    outline: none;\n    box-shadow: 0 0 .1rem #888;\n  }\n  #button:focus{\n    outline: none;\n  }\n  #button:hover{\n    background-color: #3355aa;\n  }\n  #info{\n    margin-left: .5rem;\n    font-weight: 700;\n  }\n\n  .loader,\n  .loader:before,\n  .loader:after {\n    border-radius: 50%;\n    width: 1rem;\n    height: 1rem;\n    -webkit-animation-fill-mode: both;\n    animation-fill-mode: both;\n    -webkit-animation: load7 1.8s infinite ease-in-out;\n    animation: load7 1.8s infinite ease-in-out;\n  }\n  .loader {\n    color: #ffffff;\n    position: relative; \n    margin-top: -5rem;\n    -webkit-animation-delay: -0.16s;\n    animation-delay: -0.16s;\n  }\n  .loader:before,\n  .loader:after {\n    content: '';\n    position: absolute;\n    top: 0;\n  }\n  .loader:before {\n    left: -2rem;\n    -webkit-animation-delay: -0.32s;\n    animation-delay: -0.32s;\n  }\n  .loader:after {\n    left: 2rem;\n  }\n  @-webkit-keyframes load7 {\n    0%,\n    80%,\n    100% {\n      box-shadow: 0 2.5rem 0 -1.3rem;\n    }\n    40% {\n      box-shadow: 0 2.5rem 0 0;\n    }\n  }\n  @keyframes load7 {\n    0%,\n    80%,\n    100% {\n      box-shadow: 0 2.5rem 0 -1.3rem;\n    }\n    40% {\n      box-shadow: 0 2.5rem 0 0;\n    }\n  }\n\n  @media only screen and (max-width: 1000px){\n    #content{\n      width: 60%;\n    }\n  }\n  @media only screen and (max-width: 500px){\n    #content{\n      width: 80%;\n    }\n    #content h1{\n      margin-bottom: .2rem; \n      font-size: 1.7rem;\n    }\n    #content input{\n      height: 2.3rem;\n      padding: .5rem 1.3rem;\n      font-size: 1rem;\n    }\n    #content p{\n      margin-top: 1.1rem;\n      margin-bottom: .3rem;\n      margin-left: .7rem;\n    }\n    #button{\n      margin-top: 1.5rem;\n      width: 90%;\n      height: 2.5rem;\n      border-radius: 1.8rem;\n      font-size: 1rem;\n    }\n  }\n  @supports (-webkit-touch-callout: none){\n    #content input{\n      height: 3rem;\n      padding: .7rem .8rem;\n      font-size: 1rem;\n      font-weight: 500;\n    }\n    #button{\n      height: 3rem;\n    }\n  }\n"])),(function(n){return n.darkTheme?"eee":"222"}),(function(n){return n.darkTheme?"bbb":"555"}),(function(n){return n.darkTheme?"252525":"f5f5f5"}),(function(n){return n.darkTheme?"ddd":"333"})),mn=function(){var n="Sign In",e=Object(x.c)(k).theme;return Object(F.jsx)(bn,{darkTheme:e,children:Object(F.jsxs)("div",{id:"content",children:[Object(F.jsx)("h1",{children:n}),Object(F.jsx)(ln,{label:n.toUpperCase()})]})})},hn=H.b.div(l||(l=Object(_.a)(["\n\n"]))),fn=H.b.div(b||(b=Object(_.a)(["\n  img{\n    max-width: 50vw;\n  }\n"]))),jn=function(n){var e=n.src,t=n.onClickOnDelete,r=n.onClickInModal,o=Object(x.c)(k).theme;return Object(F.jsxs)(fn,{darkTheme:o,children:[Object(F.jsx)("img",{src:e,alt:"Your pic from aws S3"}),Object(F.jsx)("div",{id:"delete-btn",onClick:t,children:"\ud83d\uddd1"}),Object(F.jsx)("div",{id:"open-in-modal-btn",onClick:r,children:"\ud83d\udd0d"})]})},pn=H.b.div(m||(m=Object(_.a)(["\n\n"]))),On=Object(j.createContext)((function(){})),gn=H.b.div(h||(h=Object(_.a)(["\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n  padding: 1rem;\n"]))),xn=function(){var n=Object(x.c)(k).theme;return Object(F.jsx)(On.Consumer,{children:function(e){return Object(F.jsxs)(gn,{darkTheme:n,onClick:function(){return e()},children:[Object(F.jsx)("div",{id:"upper"}),Object(F.jsx)("div",{id:"lower"})]})}})},vn=function(n){var e=n.children,t=Object(x.c)(k).theme;return Object(F.jsxs)(pn,{darkTheme:t,children:[Object(F.jsx)("div",{id:"centred",children:e}),Object(F.jsx)(xn,{})]})},wn=p.a.memo(vn),kn=function(){var n=Object(j.useState)([]),e=Object(w.a)(n,2),t=e[0],r=e[1],o=Object(j.useState)(null),i=Object(w.a)(o,2),c=i[0],a=i[1];Object(j.useEffect)((function(){fetch("/images/list",{method:"PUT"}).then((function(n){return n.json()})).then((function(n){n.images&&r(n.images)}))}),[]);var s=Object(j.useCallback)((function(n){var e=n.split("/images/");e.length>1&&fetch("/images/delete_image/".concat(e[e.length-1]),{method:"DELETE"}).then((function(n){return n.json()})).then((function(e){console.log(e),r(t.filter((function(e){return e!==n})))}))}),[t]),d=Object(j.useMemo)((function(){return t.length>0?t.map((function(n,e){return Object(F.jsx)(jn,{src:n,onClickOnDelete:function(){return s(n)},onClickInModal:function(){return a(n)}},n+e)})):null}),[t,s]);return Object(F.jsxs)(hn,{children:[d,c&&Object(F.jsx)(On.Provider,{value:function(){return a(null)},children:Object(F.jsx)(wn,{children:Object(F.jsx)("img",{src:c,alt:"One of your pics from aws S3"})})})]})},yn=H.b.div(f||(f=Object(_.a)(["\n\n"]))),Tn=function(){var n=Object(x.c)(k).theme;return Object(F.jsx)(yn,{darkTheme:n})},En=function(){return Object(F.jsxs)(G.a,{children:[Object(F.jsx)(q,{}),Object(F.jsx)(nn,{}),Object(F.jsx)(tn,{}),Object(F.jsxs)(v.d,{children:[Object(F.jsx)(J,{exact:!0,path:"/login",component:mn}),Object(F.jsx)(J,{exact:!0,path:"/images",component:kn}),Object(F.jsx)(J,{exact:!0,path:"/content",component:Tn})]})]})},Cn=function(){var n=Object(x.c)(k).theme,e=Object(j.useState)(!0),t=Object(w.a)(e,2),r=t[0],o=t[1],i=Object(x.b)();Object(j.useEffect)((function(){return window.addEventListener("storage",c),function(){window.removeEventListener("storage",c)}})),Object(j.useEffect)((function(){fetch("/auth/whoami").then((function(n){return n.json()})).then((function(n){n.username&&i(N({username:n.username}))})).catch((function(n){return U(n.message)})).finally((function(){return o(!1)}))}),[i]);var c=function(n){!n.key&&a()},a=function(){window.localStorage.setItem("theme","false"),i(function(n){return{type:S,theme:n}}(!1)),i(L())};return Object(F.jsxs)("div",{children:[Object(F.jsx)(R,{darkTheme:n}),Object(F.jsx)(tn,{}),!r&&Object(F.jsx)(En,{})]})},Sn=t(17),zn={error:void 0,loading:!1,menuOpened:!1,theme:"true"===window.localStorage.getItem("theme")},Mn={username:void 0,loggedIn:!1},In=Object(Sn.b)({app:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case z:return Object(P.a)(Object(P.a)({},n),{},{error:e.error});case M:return Object(P.a)(Object(P.a)({},n),{},{loading:e.loading});case I:return Object(P.a)(Object(P.a)({},n),{},{menuOpened:e.opened});case S:return Object(P.a)(Object(P.a)({},n),{},{theme:e.theme});case C:return Object(P.a)(Object(P.a)({},n),{},{theme:!n.theme});default:return n}},auth:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case E:return Object(P.a)(Object(P.a)({},n),{},{loggedIn:!0,username:e.payload.username});case T:return Object(P.a)(Object(P.a)({},n),{},{loggedIn:!1,username:void 0});default:return n}}}),Nn=Object(Sn.c)(In),Ln=t(10),Un=Object(Ln.a)();g.a.render(Object(F.jsx)(p.a.StrictMode,{children:Object(F.jsx)(v.c,{history:Un,children:Object(F.jsx)(x.a,{store:Nn,children:Object(F.jsx)(Cn,{})})})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.065efcff.chunk.js.map